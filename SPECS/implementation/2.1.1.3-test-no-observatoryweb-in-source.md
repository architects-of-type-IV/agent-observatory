---
id: "2.1.1.c"
title: "Test source file contains no ObservatoryWeb alias or import outside moduledoc"
status: pending
task_id: "2.1.1"
governed_by: ["ADR-013", "ADR-015"]
parent_uc: ["UC-0209"]
---

goal: "Add test that reads the source file, strips the moduledoc block content, and asserts the remaining source text does not match the regex ~r/alias ObservatoryWeb|import ObservatoryWeb/"
allowed_files:
  - test/observatory/gateway/schema_interceptor_test.exs
blocked_by: ["2.1.1.b"]
steps:
  - In schema_interceptor_test.exs, add a test tagged @tag :boundary
  - Read the source file at lib/observatory/gateway/schema_interceptor.ex via File.read!/1
  - Strip the moduledoc block content (the string between the first triple-quote pair after @moduledoc)
  - Assert the remaining source text does not match ~r/alias ObservatoryWeb|import ObservatoryWeb/
done_when: "mix test test/observatory/gateway/schema_interceptor_test.exs --only boundary"
