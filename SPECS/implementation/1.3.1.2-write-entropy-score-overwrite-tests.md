---
id: "1.3.1.2"
title: "Write tests for entropy score overwrite and nil cognition no-op"
status: pending
task_id: "1.3.1"
governed_by: ["ADR-014", "ADR-018"]
parent_uc: ["UC-0206"]
---

goal: "Write two tests: put_gateway_entropy_score/2 overwrites cognition.entropy_score from 0.9 to 0.15; and with cognition: nil it returns the struct unchanged without error"
allowed_files:
  - test/observatory/mesh/decision_log_test.exs
blocked_by: ["1.3.1.1"]
steps:
  - Build a %DecisionLog{} struct with cognition.entropy_score: 0.9 via apply_changes/1
  - Call DecisionLog.put_gateway_entropy_score(log, 0.15) and assert result has entropy_score == 0.15
  - Build a %DecisionLog{} struct with cognition: nil
  - Call put_gateway_entropy_score(log, 0.15) and assert cognition is still nil with no error
done_when: "mix test test/observatory/mesh/decision_log_test.exs"
