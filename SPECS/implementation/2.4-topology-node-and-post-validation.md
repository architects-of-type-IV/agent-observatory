---
type: section
id: "2.4"
phase_id: "2"
title: "Topology Node State & Post-Validation Routing"
status: pending
---

# Section 2.4: Topology Node State & Post-Validation Routing

## Purpose

This section handles two behaviors: what the topology subscriber layer must do when it receives a `SchemaViolationEvent` (node state transition to `:schema_violation` with orange highlight and 30-second clearance timer), and what the controller must do on the success path (entropy overwrite via `EntropyTracker.record_and_score/2`, PubSub broadcast on `"gateway:messages"`, HTTP 202 with confirmed `trace_id`). These tasks complete the full Gateway Core lifecycle.

## Tasks

| ID | Title | Governed By | Parent UCs | Status |
|----|-------|-------------|------------|--------|
| 2.4.1 | Topology Node State on Violation | ADR-015, ADR-016 | UC-0216 | pending |
| 2.4.2 | Post-Validation Message Routing | ADR-015 | UC-0217 | pending |
