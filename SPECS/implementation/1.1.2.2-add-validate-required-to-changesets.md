---
id: "1.1.2.2"
title: "Add validate_required to meta, identity, cognition, action changesets"
status: pending
task_id: "1.1.2"
governed_by: ["ADR-014"]
parent_uc: ["UC-0201", "UC-0202", "UC-0203"]
---

goal: "Add validate_required for trace_id and timestamp in meta_changeset/2, agent_id/agent_type/capability_version in identity_changeset/2, intent in cognition_changeset/2, status in action_changeset/2"
allowed_files:
  - lib/observatory/mesh/decision_log.ex
blocked_by: ["1.1.2.1"]
steps:
  - Add validate_required(changeset, [:trace_id, :timestamp]) in meta_changeset/2 after cast/3
  - Add validate_required(changeset, [:agent_id, :agent_type, :capability_version]) in identity_changeset/2
  - Add validate_required(changeset, [:intent]) in cognition_changeset/2
  - Add validate_required(changeset, [:status]) in action_changeset/2
done_when: "mix compile --warnings-as-errors"
