---
type: task
id: "1.3.3"
section_id: "1.3"
title: "UI Field Derivation Contract"
status: pending
governed_by: ["ADR-014"]
parent_uc: ["UC-0208"]
---

# Task 1.3.3: UI Field Derivation Contract

## Goal

The six UI derivation anchor fields — `meta.parent_step_id`, `cognition.reasoning_chain`, `cognition.entropy_score`, `state_delta.cumulative_session_cost`, `control.hitl_required`, and `control.is_terminal` — must be accessible on any `%DecisionLog{}` struct without raising, even when the parent embedded section is nil. These regression tests lock in the field names so that any rename causes an immediate test failure and alerts the developer to increment the major version in `identity.capability_version` and update all downstream UI consumers.

## Governing Decisions

- ADR-014

## Verification UCs

- UC-0208

## Subtasks

| ID | Title | Done When | Status |
|----|-------|-----------|--------|
| 1.3.3.1 | Write nil-safe anchor field access test with minimal DecisionLog | mix test test/observatory/mesh/decision_log_test.exs | pending |
| 1.3.3.2 | Write schema field name regression test via __schema__(:fields) | mix test test/observatory/mesh/decision_log_test.exs | pending |
