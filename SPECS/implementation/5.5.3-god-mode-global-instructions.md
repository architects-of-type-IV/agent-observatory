---
type: task
id: "5.5.3"
section_id: "5.5"
title: "God Mode Global Instructions Panel and PubSub Push"
status: pending
governed_by: ["ADR-022"]
parent_uc: ["UC-0313"]
---

# Task 5.5.3: God Mode Global Instructions Panel and PubSub Push

## Goal

Implement the Global Instructions panel in `god_mode_view/1` with per-agent-class editors pre-populated from socket assigns on mount. Each editor has a "Push to all" button with single inline confirmation via `instructions_confirm_pending`. Confirmed pushes dispatch via PubSub. Success and failure banners are rendered.

## Governing Decisions

- ADR-022

## Verification UCs

- UC-0313

## Subtasks

| ID | Title | Done When | Status |
|----|-------|-----------|--------|
| 5.5.3.1 | Add Global Instructions section to god_mode_view/1 with textarea, Push to all button, and inline confirmation | mix compile --warnings-as-errors | pending |
| 5.5.3.2 | Add agent_classes and instructions assigns to mount/3 and event handlers for push_instructions_intent, push_instructions_confirm, push_instructions_cancel | mix compile --warnings-as-errors | pending |
| 5.5.3.3 | Write tests for confirm sequence calling PubSub and showing banner, navigation discarding edit, and backend error showing failure banner | mix test test/observatory_web/live/god_mode_test.exs | pending |
