---
type: task
id: "4.2.3"
section_id: "4.2"
title: "SchemaInterceptor Extension for schedule_reminder"
status: pending
governed_by: ["ADR-019"]
parent_uc: ["UC-0266"]
---

# Task 4.2.3: SchemaInterceptor Extension for schedule_reminder

## Goal

Extend the Phase 2 `SchemaInterceptor` module to detect `action.tool_call == "schedule_reminder"` on validated DecisionLog structs and call `CronScheduler.schedule_once/3` before forwarding the DecisionLog on PubSub. If `tool_input.delay_ms` is absent or not a positive integer, log a warning and skip scheduling. The DecisionLog must be forwarded regardless of scheduling outcome.

## Governing Decisions

- ADR-019

## Verification UCs

- UC-0266

## Subtasks

| ID | Title | Done When | Status |
|----|-------|-----------|--------|
| 4.2.3.1 | Add maybe_schedule_reminder/1 private function detecting schedule_reminder tool_call and calling CronScheduler.schedule_once | mix compile --warnings-as-errors | pending |
| 4.2.3.2 | Call maybe_schedule_reminder/1 in SchemaInterceptor post-validation pipeline before PubSub broadcast | mix compile --warnings-as-errors | pending |
