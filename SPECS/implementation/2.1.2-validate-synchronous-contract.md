---
type: task
id: "2.1.2"
section_id: "2.1"
title: "validate/1 Synchronous Contract"
status: pending
governed_by: ["ADR-015"]
parent_uc: ["UC-0210"]
---

# Task 2.1.2: validate/1 Synchronous Contract

## Goal

Implement `Observatory.Gateway.SchemaInterceptor.validate/1` as a public function that accepts a string-keyed params map, delegates synchronously to `Observatory.Mesh.DecisionLog.changeset/2`, checks `Ecto.Changeset.valid?/1`, and returns either `{:ok, %DecisionLog{}}` or `{:error, %Ecto.Changeset{}}`. The function body must contain no `Task`, `GenServer`, `Process.spawn`, `send`, or `receive` calls.

## Governing Decisions

- ADR-015

## Verification UCs

- UC-0210

## Subtasks

| ID | Title | Done When | Status |
|----|-------|-----------|--------|
| 2.1.2.a | Implement validate/1 delegating to DecisionLog.changeset/2 synchronously | mix compile --warnings-as-errors | pending |
| 2.1.2.b | Test validate/1 returns {:ok, %DecisionLog{}} for fully valid params | mix test test/observatory/gateway/schema_interceptor_test.exs --only validate | pending |
| 2.1.2.c | Test validate/1 returns {:error, changeset} when meta.timestamp absent | mix test test/observatory/gateway/schema_interceptor_test.exs --only validate | pending |
| 2.1.2.d | Test validate/1 source contains no async primitives | mix test test/observatory/gateway/schema_interceptor_test.exs --only validate | pending |
