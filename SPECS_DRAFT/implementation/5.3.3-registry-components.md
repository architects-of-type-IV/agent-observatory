---
type: task
id: "5.3.3"
section_id: "5.3"
title: "RegistryComponents: Capability Directory and Routing Logic Manager"
status: pending
governed_by: ["ADR-022"]
parent_uc: ["UC-0307"]
---

# Task 5.3.3: RegistryComponents: Capability Directory and Routing Logic Manager

## Goal

Implement `RegistryComponents.registry_view/1` with a sortable Capability Directory table and a Routing Logic Manager form. The Capability Directory must be sortable by `:agent_type`, `:instance_count`, and `:capability_version`. The Routing Logic Manager form submits weight changes via `phx-submit="update_route_weight"` and renders inline validation errors.

## Governing Decisions

- ADR-022

## Verification UCs

- UC-0307

## Subtasks

| ID | Title | Done When | Status |
|----|-------|-----------|--------|
| 5.3.3.1 | Replace stub with registry_view/1 rendering sortable capability directory table and route weight form | mix compile --warnings-as-errors | pending |
| 5.3.3.2 | Add registry assigns to mount/3 and event handlers for sort_capability_directory and update_route_weight | mix compile --warnings-as-errors | pending |
| 5.3.3.3 | Write tests for route weight update valid 70, invalid -1, and sort by instance_count | mix test test/observatory_web/live/dashboard_live_test.exs | pending |
