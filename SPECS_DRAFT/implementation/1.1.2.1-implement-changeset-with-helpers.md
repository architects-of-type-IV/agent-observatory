---
id: "1.1.2.1"
title: "Implement changeset/2 with six cast_embed calls and private helpers"
status: pending
task_id: "1.1.2"
governed_by: ["ADR-014"]
parent_uc: ["UC-0201", "UC-0202", "UC-0203"]
---

goal: "Implement def changeset(log, attrs) calling cast_embed for all six sections with required: false plus private changeset helpers for each sub-schema"
allowed_files:
  - lib/observatory/mesh/decision_log.ex
blocked_by: ["1.1.1.6"]
steps:
  - Implement def changeset(log, attrs) calling cast_embed for :meta, :identity, :cognition, :action, :state_delta, :control with required: false
  - Add private meta_changeset/2 that calls cast/3 on all Meta fields
  - Add private identity_changeset/2, cognition_changeset/2, action_changeset/2, state_delta_changeset/2, control_changeset/2
  - Confirm mix compile --warnings-as-errors passes
done_when: "mix compile --warnings-as-errors"
