---
type: section
id: "4.3"
phase_id: "4"
title: "WebhookRouter Retry & DLQ"
status: pending
---

# Section 4.3: WebhookRouter Retry & DLQ

## Purpose

This section creates the `Observatory.Gateway.WebhookRouter` GenServer that manages durable webhook delivery with exponential-backoff retry semantics, implements HMAC-SHA256 signature computation and validation, creates the `webhook_deliveries` and `webhook_configs` SQLite migrations, implements startup re-queuing of undelivered entries, enforces the five-per-poll thundering-herd cap, and exposes `POST /gateway/webhooks/:webhook_id` for inbound webhook receipt.

## Tasks

| ID | Title | Governed By | Parent UCs | Status |
|----|-------|-------------|------------|--------|
| 4.3.1 | WebhookRouter GenServer and Retry Schedule | ADR-020 | UC-0268, UC-0270 | pending |
| 4.3.2 | webhook_deliveries and webhook_configs Migrations | ADR-020 | UC-0279 | pending |
| 4.3.3 | HMAC-SHA256 Signature and Inbound Endpoint | ADR-020 | UC-0267 | pending |
| 4.3.4 | WebhookRouter Tests | ADR-020 | UC-0267, UC-0268, UC-0269, UC-0270, UC-0279 | pending |
