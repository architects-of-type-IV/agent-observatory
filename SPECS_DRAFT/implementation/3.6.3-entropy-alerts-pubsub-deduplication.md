---
type: task
id: "3.6.3"
section_id: "3.6"
title: "gateway:entropy_alerts PubSub & Deduplication"
status: pending
governed_by: ["ADR-018"]
parent_uc: ["UC-0247"]
---

# Task 3.6.3: gateway:entropy_alerts PubSub & Deduplication

## Goal

The Session Cluster Manager LiveView must subscribe to `"gateway:entropy_alerts"` in `mount/3` and render each affected session in an Entropy Alerts panel. Duplicate `EntropyAlertEvent` messages for the same `session_id` must be deduplicated: the session may appear in the panel only once regardless of how many alerts are received.

## Governing Decisions

- ADR-018

## Verification UCs

- UC-0247

## Subtasks

| ID | Title | Done When | Status |
|----|-------|-----------|--------|
| 3.6.3.1 | Specify mount/3 PubSub subscription and handle_info deduplication logic for Session Cluster Manager LiveView | mix compile --warnings-as-errors | pending |
| 3.6.3.2 | Write unit tests for two alerts for same session_id producing one map entry and two different sessions producing two entries | mix test test/observatory/gateway/entropy_tracker_test.exs | pending |
