---
id: "1.2.3.2"
title: "Write tests for major_version/1 and empty capability_version error"
status: pending
task_id: "1.2.3"
governed_by: ["ADR-014"]
parent_uc: ["UC-0205", "UC-0206"]
---

goal: "Write tests verifying major_version/1 returns 2 for '2.1.0', returns 1 for '1.0.0', returns nil when identity is nil; plus a changeset test that empty capability_version produces a required error"
allowed_files:
  - test/observatory/mesh/decision_log_test.exs
blocked_by: ["1.2.3.1"]
steps:
  - Write test that major_version/1 returns 2 when capability_version is "2.1.0"
  - Write test that major_version/1 returns 1 when capability_version is "1.0.0"
  - Write test that major_version/1 returns nil when identity section is nil
  - Write changeset test that empty string capability_version produces can't be blank error
done_when: "mix test test/observatory/mesh/decision_log_test.exs"
