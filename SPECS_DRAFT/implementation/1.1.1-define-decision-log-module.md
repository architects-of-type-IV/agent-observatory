---
type: task
id: "1.1.1"
section_id: "1.1"
title: "Define Observatory.Mesh.DecisionLog Module"
status: pending
governed_by: ["ADR-014"]
parent_uc: ["UC-0200", "UC-0201"]
---

# Task 1.1.1: Define Observatory.Mesh.DecisionLog Module

## Goal

Define the top-level Ecto embedded schema module with all six embedded sub-schemas declared as inner modules using `embedded_schema do` blocks. The module must live at `lib/observatory/mesh/decision_log.ex` under the alias `Observatory.Mesh.DecisionLog` and must not exceed 300 lines; if changeset helpers push it past that limit, extract them to `Observatory.Mesh.DecisionLog.Changesets`. Each sub-schema is embedded via `embeds_one` using inner module inline syntax so the struct fields are accessible at compile time and pattern matching against `%DecisionLog{}` is type-safe.

## Governing Decisions

- ADR-014

## Verification UCs

- UC-0200
- UC-0201

## Subtasks

| ID | Title | Done When | Status |
|----|-------|-----------|--------|
| 1.1.1.1 | Create decision_log.ex with empty schema body | mix compile --warnings-as-errors | pending |
| 1.1.1.2 | Define embeds_one :meta, Meta inner schema | mix compile --warnings-as-errors | pending |
| 1.1.1.3 | Define embeds_one :identity, Identity inner schema | mix compile --warnings-as-errors | pending |
| 1.1.1.4 | Define embeds_one :cognition, Cognition inner schema | mix compile --warnings-as-errors | pending |
| 1.1.1.5 | Define embeds_one :action, Action inner schema with Ecto.Enum | mix compile --warnings-as-errors | pending |
| 1.1.1.6 | Define embeds_one :state_delta and :control inner schemas | mix compile --warnings-as-errors | pending |
