---
type: section
id: "1.2"
phase_id: "1"
title: "Action Status Enum & Causal Link Fields"
status: pending
---

# Section 1.2: Action Status Enum & Causal Link Fields

## Purpose

This section verifies the `action.status` enum constraint is correctly enforced (FR-6.4), implements and tests the `parent_step_id` nil-as-root and empty-string-to-nil trimming logic (FR-6.5), and adds the `capability_version` non-empty string validation and the `major_version/1` helper for version parsing (FR-6.6). These three areas share the property that they are field-level behaviors on already-defined sub-schemas; they are grouped here because they can be verified with pure unit tests against the changeset and helper functions without any external dependencies.

## Tasks

| ID | Title | Governed By | Parent UCs | Status |
|----|-------|-------------|------------|--------|
| 1.2.1 | Ecto.Enum for action.status | ADR-014 | UC-0203 | pending |
| 1.2.2 | parent_step_id Root Detection | ADR-014, ADR-017 | UC-0204 | pending |
| 1.2.3 | capability_version Semver Field | ADR-014 | UC-0205, UC-0206 | pending |
