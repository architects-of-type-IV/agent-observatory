---
type: task
id: "5.4.2"
section_id: "5.4"
title: "ForensicComponents: Message Archive, Cost Attribution, Security, and Policy Engine"
status: pending
governed_by: ["ADR-022"]
parent_uc: ["UC-0309"]
---

# Task 5.4.2: ForensicComponents: Message Archive, Cost Attribution, Security, and Policy Engine

## Goal

Implement `ForensicComponents.forensic_view/1` with four named panel containers plus collapsible sub-panels. Message Archive with search form, Cost Attribution with grouping selector, Security webhook log panel, Policy Engine with add/edit/remove controls.

## Governing Decisions

- ADR-022

## Verification UCs

- UC-0309

## Subtasks

| ID | Title | Done When | Status |
|----|-------|-----------|--------|
| 5.4.2.1 | Replace stub with forensic_view/1 rendering message-archive-panel, cost-attribution-panel, security-panel, policy-engine-panel, and three collapsible sub-panels | mix compile --warnings-as-errors | pending |
| 5.4.2.2 | Add forensic assigns to mount/3 and event handlers for search_archive, set_cost_group_by, add_policy_rule | mix compile --warnings-as-errors | pending |
| 5.4.2.3 | Write tests for search returning matching events, no-match empty state, and set_cost_group_by to session_id | mix test test/observatory_web/live/dashboard_live_test.exs | pending |
