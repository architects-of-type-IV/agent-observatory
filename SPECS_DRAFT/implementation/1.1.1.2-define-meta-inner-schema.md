---
id: "1.1.1.2"
title: "Define embeds_one :meta, Meta inner schema"
status: pending
task_id: "1.1.1"
governed_by: ["ADR-014"]
parent_uc: ["UC-0200", "UC-0201"]
---

goal: "Add embeds_one :meta, Meta inner schema with trace_id, timestamp, parent_step_id, and cluster_id fields"
allowed_files:
  - lib/observatory/mesh/decision_log.ex
blocked_by: ["1.1.1.1"]
steps:
  - Inside the embedded_schema block, add embeds_one :meta, Meta, primary_key: false
  - Define the inline inner schema with field :trace_id, :string
  - Add field :timestamp, :utc_datetime
  - Add field :parent_step_id, :string and field :cluster_id, :string
done_when: "mix compile --warnings-as-errors"
