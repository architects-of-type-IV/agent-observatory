{"type":"phase","id":"1","title":"decision-log-schema","status":"pending","governed_by":["ADR-014"],"file":"1-decision-log-schema.md"}
{"type":"section","id":"1.1","phase_id":"1","title":"DecisionLog Module & Embedded Schema","status":"pending","file":"1.1-decision-log-module-and-embedded-schema.md"}
{"type":"task","id":"1.1.1","section_id":"1.1","title":"Define Observatory.Mesh.DecisionLog Module","status":"pending","governed_by":["ADR-014"],"parent_uc":["UC-0200","UC-0201"],"file":"1.1.1-define-decision-log-module.md"}
{"type":"subtask","id":"1.1.1.1","task_id":"1.1.1","title":"Create decision_log.ex with empty schema body","status":"pending","owner":"","file":"1.1.1.1-create-decision-log-ex.md"}
{"type":"subtask","id":"1.1.1.2","task_id":"1.1.1","title":"Define embeds_one :meta, Meta inner schema","status":"pending","owner":"","file":"1.1.1.2-define-meta-inner-schema.md"}
{"type":"subtask","id":"1.1.1.3","task_id":"1.1.1","title":"Define embeds_one :identity, Identity inner schema","status":"pending","owner":"","file":"1.1.1.3-define-identity-inner-schema.md"}
{"type":"subtask","id":"1.1.1.4","task_id":"1.1.1","title":"Define embeds_one :cognition, Cognition inner schema","status":"pending","owner":"","file":"1.1.1.4-define-cognition-inner-schema.md"}
{"type":"subtask","id":"1.1.1.5","task_id":"1.1.1","title":"Define embeds_one :action, Action inner schema with Ecto.Enum","status":"pending","owner":"","file":"1.1.1.5-define-action-inner-schema.md"}
{"type":"subtask","id":"1.1.1.6","task_id":"1.1.1","title":"Define embeds_one :state_delta and :control inner schemas","status":"pending","owner":"","file":"1.1.1.6-define-state-delta-and-control.md"}
{"type":"task","id":"1.1.2","section_id":"1.1","title":"Changeset Validation","status":"pending","governed_by":["ADR-014"],"parent_uc":["UC-0201","UC-0202","UC-0203"],"file":"1.1.2-changeset-validation.md"}
{"type":"subtask","id":"1.1.2.1","task_id":"1.1.2","title":"Implement changeset/2 with six cast_embed calls and private helpers","status":"pending","owner":"","file":"1.1.2.1-implement-changeset-with-helpers.md"}
{"type":"subtask","id":"1.1.2.2","task_id":"1.1.2","title":"Add validate_required to meta, identity, cognition, action changesets","status":"pending","owner":"","file":"1.1.2.2-add-validate-required-to-changesets.md"}
{"type":"subtask","id":"1.1.2.3","task_id":"1.1.2","title":"Write changeset validation ExUnit tests","status":"pending","owner":"","file":"1.1.2.3-write-changeset-validation-tests.md"}
{"type":"section","id":"1.2","phase_id":"1","title":"Action Status Enum & Causal Link Fields","status":"pending","file":"1.2-action-status-enum-and-causal-link.md"}
{"type":"task","id":"1.2.1","section_id":"1.2","title":"Ecto.Enum for action.status","status":"pending","governed_by":["ADR-014"],"parent_uc":["UC-0203"],"file":"1.2.1-ecto-enum-action-status.md"}
{"type":"subtask","id":"1.2.1.1","task_id":"1.2.1","title":"Write parameterized tests for all four valid action.status atoms","status":"pending","owner":"","file":"1.2.1.1-write-valid-status-atom-tests.md"}
{"type":"subtask","id":"1.2.1.2","task_id":"1.2.1","title":"Write test for invalid status atom 'timeout' producing inclusion error","status":"pending","owner":"","file":"1.2.1.2-write-invalid-status-atom-test.md"}
{"type":"task","id":"1.2.2","section_id":"1.2","title":"parent_step_id Root Detection","status":"pending","governed_by":["ADR-014","ADR-017"],"parent_uc":["UC-0204"],"file":"1.2.2-parent-step-id-root-detection.md"}
{"type":"subtask","id":"1.2.2.1","task_id":"1.2.2","title":"Add empty-string-to-nil update_change and root?/1 predicate","status":"pending","owner":"","file":"1.2.2.1-add-empty-string-nil-and-root-predicate.md"}
{"type":"subtask","id":"1.2.2.2","task_id":"1.2.2","title":"Write tests for nil, empty string, UUID parent_step_id and root?/1","status":"pending","owner":"","file":"1.2.2.2-write-parent-step-id-tests.md"}
{"type":"task","id":"1.2.3","section_id":"1.2","title":"capability_version Semver Field","status":"pending","governed_by":["ADR-014"],"parent_uc":["UC-0205","UC-0206"],"file":"1.2.3-capability-version-semver.md"}
{"type":"subtask","id":"1.2.3.1","task_id":"1.2.3","title":"Add major_version/1 helper with nil-safe guard clause","status":"pending","owner":"","file":"1.2.3.1-add-major-version-helper.md"}
{"type":"subtask","id":"1.2.3.2","task_id":"1.2.3","title":"Write tests for major_version/1 and empty capability_version error","status":"pending","owner":"","file":"1.2.3.2-write-major-version-tests.md"}
{"type":"section","id":"1.3","phase_id":"1","title":"Entropy Score Overwrite & Deserialization","status":"pending","file":"1.3-entropy-score-and-deserialization.md"}
{"type":"task","id":"1.3.1","section_id":"1.3","title":"Gateway Authoritative entropy_score","status":"pending","governed_by":["ADR-014","ADR-018"],"parent_uc":["UC-0206"],"file":"1.3.1-gateway-entropy-score.md"}
{"type":"subtask","id":"1.3.1.1","task_id":"1.3.1","title":"Add put_gateway_entropy_score/2 with nil cognition guard","status":"pending","owner":"","file":"1.3.1.1-add-put-gateway-entropy-score.md"}
{"type":"subtask","id":"1.3.1.2","task_id":"1.3.1","title":"Write tests for entropy score overwrite and nil cognition no-op","status":"pending","owner":"","file":"1.3.1.2-write-entropy-score-overwrite-tests.md"}
{"type":"task","id":"1.3.2","section_id":"1.3","title":"JSON Deserialization","status":"pending","governed_by":["ADR-014"],"parent_uc":["UC-0207","UC-0208"],"file":"1.3.2-json-deserialization.md"}
{"type":"subtask","id":"1.3.2.1","task_id":"1.3.2","title":"Add from_json/1 returning {:ok, struct} or {:error, changeset}","status":"pending","owner":"","file":"1.3.2.1-add-from-json-function.md"}
{"type":"subtask","id":"1.3.2.2","task_id":"1.3.2","title":"Write tests for valid map, invalid status, and missing meta","status":"pending","owner":"","file":"1.3.2.2-write-from-json-tests.md"}
{"type":"task","id":"1.3.3","section_id":"1.3","title":"UI Field Derivation Contract","status":"pending","governed_by":["ADR-014"],"parent_uc":["UC-0208"],"file":"1.3.3-ui-field-derivation-contract.md"}
{"type":"subtask","id":"1.3.3.1","task_id":"1.3.3","title":"Write nil-safe anchor field access test with minimal DecisionLog","status":"pending","owner":"","file":"1.3.3.1-write-nil-safe-anchor-field-test.md"}
{"type":"subtask","id":"1.3.3.2","task_id":"1.3.3","title":"Write schema field name regression test via __schema__(:fields)","status":"pending","owner":"","file":"1.3.3.2-write-schema-field-name-regression-test.md"}
{"type":"phase","id":"2","title":"gateway-core","status":"pending","governed_by":["ADR-013","ADR-015"],"file":"2-gateway-core.md"}
{"type":"section","id":"2.1","phase_id":"2","title":"SchemaInterceptor Module & Validation Contract","status":"pending","file":"2.1-schema-interceptor-module.md"}
{"type":"task","id":"2.1.1","section_id":"2.1","title":"Module Location & Boundary","status":"pending","governed_by":["ADR-013","ADR-015"],"parent_uc":["UC-0209"],"file":"2.1.1-module-location-and-boundary.md"}
{"type":"subtask","id":"2.1.1.1","task_id":"2.1.1","title":"Create schema_interceptor.ex with @moduledoc boundary constraint","status":"pending","owner":"","file":"2.1.1.1-create-schema-interceptor-moduledoc.md"}
{"type":"subtask","id":"2.1.1.2","task_id":"2.1.1","title":"Test @moduledoc contains ObservatoryWeb and PubSub substrings","status":"pending","owner":"","file":"2.1.1.2-test-moduledoc-boundary-constraint.md"}
{"type":"subtask","id":"2.1.1.3","task_id":"2.1.1","title":"Test source file contains no ObservatoryWeb alias or import outside moduledoc","status":"pending","owner":"","file":"2.1.1.3-test-no-observatoryweb-in-source.md"}
{"type":"task","id":"2.1.2","section_id":"2.1","title":"validate/1 Synchronous Contract","status":"pending","governed_by":["ADR-015"],"parent_uc":["UC-0210"],"file":"2.1.2-validate-synchronous-contract.md"}
{"type":"subtask","id":"2.1.2.1","task_id":"2.1.2","title":"Implement validate/1 delegating to DecisionLog.changeset/2 synchronously","status":"pending","owner":"","file":"2.1.2.1-implement-validate-function.md"}
{"type":"subtask","id":"2.1.2.2","task_id":"2.1.2","title":"Test validate/1 returns {:ok, %DecisionLog{}} for fully valid params","status":"pending","owner":"","file":"2.1.2.2-test-validate-returns-ok-decision-log.md"}
{"type":"subtask","id":"2.1.2.3","task_id":"2.1.2","title":"Test validate/1 returns {:error, changeset} when meta.timestamp absent","status":"pending","owner":"","file":"2.1.2.3-test-validate-returns-error-changeset.md"}
{"type":"subtask","id":"2.1.2.4","task_id":"2.1.2","title":"Test validate/1 source contains no async primitives","status":"pending","owner":"","file":"2.1.2.4-test-validate-no-async-primitives.md"}
{"type":"section","id":"2.2","phase_id":"2","title":"HTTP Endpoint & 422 Rejection","status":"pending","file":"2.2-http-endpoint-and-422-rejection.md"}
{"type":"task","id":"2.2.1","section_id":"2.2","title":"POST /gateway/messages Route","status":"pending","governed_by":["ADR-013","ADR-015"],"parent_uc":["UC-0211"],"file":"2.2.1-post-gateway-messages-route.md"}
{"type":"subtask","id":"2.2.1.1","task_id":"2.2.1","title":"Add :api pipeline and gateway/messages scope to router.ex","status":"pending","owner":"","file":"2.2.1-post-gateway-messages-route.md"}
{"type":"subtask","id":"2.2.1.2","task_id":"2.2.1","title":"Create gateway_controller.ex with create/2 calling SchemaInterceptor.validate/1","status":"pending","owner":"","file":"2.2.1-post-gateway-messages-route.md"}
{"type":"subtask","id":"2.2.1.3","task_id":"2.2.1","title":"Test that POST /gateway/message (singular) returns HTTP 404","status":"pending","owner":"","file":"2.2.1-post-gateway-messages-route.md"}
{"type":"subtask","id":"2.2.1.4","task_id":"2.2.1","title":"Test that POST /gateway/messages with empty payload returns 422","status":"pending","owner":"","file":"2.2.1-post-gateway-messages-route.md"}
{"type":"task","id":"2.2.2","section_id":"2.2","title":"422 Schema Violation Response","status":"pending","governed_by":["ADR-015"],"parent_uc":["UC-0212"],"file":"2.2.2-422-schema-violation-response.md"}
{"type":"subtask","id":"2.2.2.1","task_id":"2.2.2","title":"Verify handle_invalid/3 uses put_status(:unprocessable_entity) and correct JSON keys","status":"pending","owner":"","file":"2.2.2-422-schema-violation-response.md"}
{"type":"subtask","id":"2.2.2.2","task_id":"2.2.2","title":"Test POST missing identity.agent_id returns HTTP 422 with structured body","status":"pending","owner":"","file":"2.2.2-422-schema-violation-response.md"}
{"type":"subtask","id":"2.2.2.3","task_id":"2.2.2","title":"Test schema violation returns 422 not 400","status":"pending","owner":"","file":"2.2.2-422-schema-violation-response.md"}
{"type":"subtask","id":"2.2.2.4","task_id":"2.2.2","title":"Test 422 response body trace_id field is null","status":"pending","owner":"","file":"2.2.2-422-schema-violation-response.md"}
{"type":"section","id":"2.3","phase_id":"2","title":"SchemaViolationEvent & Security","status":"pending","file":"2.3-schema-violation-event-and-security.md"}
{"type":"task","id":"2.3.1","section_id":"2.3","title":"SchemaViolationEvent Construction","status":"pending","governed_by":["ADR-015"],"parent_uc":["UC-0213","UC-0214"],"file":"2.3.1-schema-violation-event-construction.md"}
{"type":"subtask","id":"2.3.1.1","task_id":"2.3.1","title":"Implement build_violation_event/3 with HMAC hash and no raw_payload key","status":"pending","owner":"","file":"2.3.1-schema-violation-event-construction.md"}
{"type":"subtask","id":"2.3.1.2","task_id":"2.3.1","title":"Update handle_invalid/3 to call build_violation_event/3","status":"pending","owner":"","file":"2.3.1-schema-violation-event-construction.md"}
{"type":"subtask","id":"2.3.1.3","task_id":"2.3.1","title":"Test build_violation_event/3 returns map with all six required keys","status":"pending","owner":"","file":"2.3.1-schema-violation-event-construction.md"}
{"type":"subtask","id":"2.3.1.4","task_id":"2.3.1","title":"Test build_violation_event/3 defaults agent_id to unknown when identity absent","status":"pending","owner":"","file":"2.3.1-schema-violation-event-construction.md"}
{"type":"subtask","id":"2.3.1.5","task_id":"2.3.1","title":"Test raw_payload_hash starts with sha256: and is 71 characters","status":"pending","owner":"","file":"2.3.1-schema-violation-event-construction.md"}
{"type":"subtask","id":"2.3.1.6","task_id":"2.3.1","title":"Test build_violation_event/3 does not include raw_payload key","status":"pending","owner":"","file":"2.3.1-schema-violation-event-construction.md"}
{"type":"subtask","id":"2.3.1.7","task_id":"2.3.1","title":"Test falls back to JSON hash when raw_body is nil","status":"pending","owner":"","file":"2.3.1-schema-violation-event-construction.md"}
{"type":"subtask","id":"2.3.1.8","task_id":"2.3.1","title":"Test does not log params or raw body during rejection via CaptureLog","status":"pending","owner":"","file":"2.3.1-schema-violation-event-construction.md"}
{"type":"task","id":"2.3.2","section_id":"2.3","title":"PubSub Broadcast on gateway:violations","status":"pending","governed_by":["ADR-015"],"parent_uc":["UC-0215"],"file":"2.3.2-pubsub-broadcast-gateway-violations.md"}
{"type":"subtask","id":"2.3.2.1","task_id":"2.3.2","title":"Update handle_invalid/3 with Task.start PubSub broadcast on gateway:violations","status":"pending","owner":"","file":"2.3.2-pubsub-broadcast-gateway-violations.md"}
{"type":"subtask","id":"2.3.2.2","task_id":"2.3.2","title":"Test broadcast delivers {:schema_violation, event} to subscribers","status":"pending","owner":"","file":"2.3.2-pubsub-broadcast-gateway-violations.md"}
{"type":"subtask","id":"2.3.2.3","task_id":"2.3.2","title":"Integration test POST invalid payload broadcasts schema_violation on gateway:violations","status":"pending","owner":"","file":"2.3.2-pubsub-broadcast-gateway-violations.md"}
{"type":"subtask","id":"2.3.2.4","task_id":"2.3.2","title":"Test broadcast uses :schema_violation atom not string key","status":"pending","owner":"","file":"2.3.2-pubsub-broadcast-gateway-violations.md"}
{"type":"subtask","id":"2.3.2.5","task_id":"2.3.2","title":"Test broadcast failure logs warning and does not raise","status":"pending","owner":"","file":"2.3.2-pubsub-broadcast-gateway-violations.md"}
{"type":"section","id":"2.4","phase_id":"2","title":"Topology Node State & Post-Validation Routing","status":"pending","file":"2.4-topology-node-and-post-validation.md"}
{"type":"task","id":"2.4.1","section_id":"2.4","title":"Topology Node State on Violation","status":"pending","governed_by":["ADR-015","ADR-016"],"parent_uc":["UC-0216"],"file":"2.4.1-topology-node-state-on-violation.md"}
{"type":"subtask","id":"2.4.1.1","task_id":"2.4.1","title":"Update handle_invalid/3 with Task.start broadcasting :node_state_update on gateway:topology","status":"pending","owner":"","file":"2.4.1-topology-node-state-on-violation.md"}
{"type":"subtask","id":"2.4.1.2","task_id":"2.4.1","title":"Test POST invalid payload broadcasts {:node_state_update, update} on gateway:topology","status":"pending","owner":"","file":"2.4.1-topology-node-state-on-violation.md"}
{"type":"subtask","id":"2.4.1.3","task_id":"2.4.1","title":"Test topology broadcast state is :schema_violation atom not string","status":"pending","owner":"","file":"2.4.1-topology-node-state-on-violation.md"}
{"type":"subtask","id":"2.4.1.4","task_id":"2.4.1","title":"Test topology broadcast does NOT fire on successful validation","status":"pending","owner":"","file":"2.4.1-topology-node-state-on-violation.md"}
{"type":"task","id":"2.4.2","section_id":"2.4","title":"Post-Validation Message Routing","status":"pending","governed_by":["ADR-015"],"parent_uc":["UC-0217"],"file":"2.4.2-post-validation-message-routing.md"}
{"type":"subtask","id":"2.4.2.1","task_id":"2.4.2","title":"Replace placeholder handle_valid/2 with full entropy-overwrite-and-broadcast implementation","status":"pending","owner":"","file":"2.4.2-post-validation-message-routing.md"}
{"type":"subtask","id":"2.4.2.2","task_id":"2.4.2","title":"Test POST valid payload returns HTTP 202 with trace_id","status":"pending","owner":"","file":"2.4.2-post-validation-message-routing.md"}
{"type":"subtask","id":"2.4.2.3","task_id":"2.4.2","title":"Test POST valid payload broadcasts {:decision_log, log} on gateway:messages","status":"pending","owner":"","file":"2.4.2-post-validation-message-routing.md"}
{"type":"subtask","id":"2.4.2.4","task_id":"2.4.2","title":"Test schema-rejected payload never broadcasts on gateway:messages","status":"pending","owner":"","file":"2.4.2-post-validation-message-routing.md"}
{"type":"subtask","id":"2.4.2.5","task_id":"2.4.2","title":"Test broadcast failure on success path still returns HTTP 202","status":"pending","owner":"","file":"2.4.2-post-validation-message-routing.md"}
{"type":"subtask","id":"2.4.2.6","task_id":"2.4.2","title":"Run full gateway test suite and compile with --warnings-as-errors","status":"pending","owner":"","file":"2.4.2-post-validation-message-routing.md"}
{"type":"phase","id":"3","title":"topology-and-entropy","status":"pending","governed_by":["ADR-016","ADR-017","ADR-018"],"file":"3-topology-and-entropy.md"}
{"type":"section","id":"3.1","phase_id":"3","title":"CausalDAG ETS Store","status":"pending","file":"3.1-causal-dag-ets-store.md"}
{"type":"task","id":"3.1.1","section_id":"3.1","title":"Node Struct & ETS Table Setup","status":"pending","governed_by":["ADR-017"],"parent_uc":["UC-0230","UC-0231"],"file":"3.1.1-node-struct-and-ets-setup.md"}
{"type":"subtask","id":"3.1.1.1","task_id":"3.1.1","title":"Create causal_dag.ex with GenServer, Node defstruct, and session registry ETS table","status":"pending","owner":"","file":"3.1.1-node-struct-and-ets-setup.md"}
{"type":"subtask","id":"3.1.1.2","task_id":"3.1.1","title":"Implement insert/2 and handle_call with validate_fields/1 and ensure_session_table/1","status":"pending","owner":"","file":"3.1.1-node-struct-and-ets-setup.md"}
{"type":"subtask","id":"3.1.1.3","task_id":"3.1.1","title":"Implement root node insert path and child-with-present-parent path with broadcast_delta","status":"pending","owner":"","file":"3.1.1-node-struct-and-ets-setup.md"}
{"type":"subtask","id":"3.1.1.4","task_id":"3.1.1","title":"Write tests for valid insert returning :ok and missing agent_id returning {:error, :missing_fields}","status":"pending","owner":"","file":"3.1.1-node-struct-and-ets-setup.md"}
{"type":"task","id":"3.1.2","section_id":"3.1","title":"Orphan Buffer (30-Second Window)","status":"pending","governed_by":["ADR-017"],"parent_uc":["UC-0232"],"file":"3.1.2-orphan-buffer-30-second-window.md"}
{"type":"subtask","id":"3.1.2.1","task_id":"3.1.2","title":"Add :causal_dag_orphan_buffer ETS :bag table in init/1 and schedule check_orphans timer","status":"pending","owner":"","file":"3.1.2-orphan-buffer-30-second-window.md"}
{"type":"subtask","id":"3.1.2.2","task_id":"3.1.2","title":"Implement orphan buffer insert when parent absent and check_and_promote_orphans on parent arrival","status":"pending","owner":"","file":"3.1.2-orphan-buffer-30-second-window.md"}
{"type":"subtask","id":"3.1.2.3","task_id":"3.1.2","title":"Implement handle_info(:check_orphans) evicting 30s-old orphans to root with orphan: true","status":"pending","owner":"","file":"3.1.2-orphan-buffer-30-second-window.md"}
{"type":"subtask","id":"3.1.2.4","task_id":"3.1.2","title":"Write tests for orphan promotion within 30s and forced attachment after timeout","status":"pending","owner":"","file":"3.1.2-orphan-buffer-30-second-window.md"}
{"type":"task","id":"3.1.3","section_id":"3.1","title":"Cycle Prevention","status":"pending","governed_by":["ADR-017"],"parent_uc":["UC-0233"],"file":"3.1.3-cycle-prevention.md"}
{"type":"subtask","id":"3.1.3.1","task_id":"3.1.3","title":"Implement detect_cycle/4 private function with 100-hop cap and nil/ETS-miss base cases","status":"pending","owner":"","file":"3.1.3-cycle-prevention.md"}
{"type":"subtask","id":"3.1.3.2","task_id":"3.1.3","title":"Call detect_cycle before ETS write for non-root nodes and return {:error, :cycle_detected} on match","status":"pending","owner":"","file":"3.1.3-cycle-prevention.md"}
{"type":"subtask","id":"3.1.3.3","task_id":"3.1.3","title":"Write tests for A->B->A cycle detection and clean A->B->C chain acceptance","status":"pending","owner":"","file":"3.1.3-cycle-prevention.md"}
{"type":"task","id":"3.1.4","section_id":"3.1","title":"Fork Nodes (Multiple Children)","status":"pending","governed_by":["ADR-017"],"parent_uc":["UC-0234"],"file":"3.1.4-fork-nodes-multiple-children.md"}
{"type":"subtask","id":"3.1.4.1","task_id":"3.1.4","title":"Confirm read-modify-write pattern for children list correctly handles two sequential child attachments","status":"pending","owner":"","file":"3.1.4-fork-nodes-multiple-children.md"}
{"type":"subtask","id":"3.1.4.2","task_id":"3.1.4","title":"Implement get_children/2 returning {:ok, children_list} or {:error, :not_found}","status":"pending","owner":"","file":"3.1.4-fork-nodes-multiple-children.md"}
{"type":"subtask","id":"3.1.4.3","task_id":"3.1.4","title":"Write tests for two children producing fork node and single child returning length-1 list","status":"pending","owner":"","file":"3.1.4-fork-nodes-multiple-children.md"}
{"type":"section","id":"3.2","phase_id":"3","title":"DAG Query API & Pruning","status":"pending","file":"3.2-dag-query-api-and-pruning.md"}
{"type":"task","id":"3.2.1","section_id":"3.2","title":"get_session_dag/1","status":"pending","governed_by":["ADR-017"],"parent_uc":["UC-0235"],"file":"3.2.1-get-session-dag.md"}
{"type":"subtask","id":"3.2.1.1","task_id":"3.2.1","title":"Implement get_session_dag/1 returning {:ok, node_map} or {:error, :session_not_found}","status":"pending","owner":"","file":"3.2.1-get-session-dag.md"}
{"type":"subtask","id":"3.2.1.2","task_id":"3.2.1","title":"Write tests for 12-node session returning correct map and unknown session returning :session_not_found","status":"pending","owner":"","file":"3.2.1-get-session-dag.md"}
{"type":"task","id":"3.2.2","section_id":"3.2","title":"DAG Delta Broadcast","status":"pending","governed_by":["ADR-017"],"parent_uc":["UC-0236"],"file":"3.2.2-dag-delta-broadcast.md"}
{"type":"subtask","id":"3.2.2.1","task_id":"3.2.2","title":"Implement broadcast_delta/4 private function called after every successful ETS write","status":"pending","owner":"","file":"3.2.2-dag-delta-broadcast.md"}
{"type":"subtask","id":"3.2.2.2","task_id":"3.2.2","title":"Write tests for successful child insertion broadcasting dag_delta and cycle rejection emitting no broadcast","status":"pending","owner":"","file":"3.2.2-dag-delta-broadcast.md"}
{"type":"task","id":"3.2.3","section_id":"3.2","title":"ETS Pruning on is_terminal","status":"pending","governed_by":["ADR-017"],"parent_uc":["UC-0237"],"file":"3.2.3-ets-pruning-on-is-terminal.md"}
{"type":"subtask","id":"3.2.3.1","task_id":"3.2.3","title":"Implement signal_terminal/1 and handle_cast scheduling 5-minute deletion with duplicate guard","status":"pending","owner":"","file":"3.2.3-ets-pruning-on-is-terminal.md"}
{"type":"subtask","id":"3.2.3.2","task_id":"3.2.3","title":"Implement handle_info({:prune_session, session_id}) deleting ETS table and registry entry","status":"pending","owner":"","file":"3.2.3-ets-pruning-on-is-terminal.md"}
{"type":"subtask","id":"3.2.3.3","task_id":"3.2.3","title":"Write tests for grace window queryability, prune message deletes table, duplicate signal does not reset timer","status":"pending","owner":"","file":"3.2.3-ets-pruning-on-is-terminal.md"}
{"type":"section","id":"3.3","phase_id":"3","title":"Canvas Topology Renderer (JS Hook)","status":"pending","file":"3.3-canvas-topology-renderer.md"}
{"type":"task","id":"3.3.1","section_id":"3.3","title":"TopologyMap JS Hook Structure","status":"pending","governed_by":["ADR-016"],"parent_uc":["UC-0238"],"file":"3.3.1-topology-map-js-hook.md"}
{"type":"subtask","id":"3.3.1.1","task_id":"3.3.1","title":"Create assets/js/hooks/topology_map.js with empty TopologyMap object and export","status":"pending","owner":"","file":"3.3.1-topology-map-js-hook.md"}
{"type":"subtask","id":"3.3.1.2","task_id":"3.3.1","title":"Implement mounted() with canvas lookup, ctx init, handleEvent, click listener, startAnimationLoop","status":"pending","owner":"","file":"3.3.1-topology-map-js-hook.md"}
{"type":"subtask","id":"3.3.1.3","task_id":"3.3.1","title":"Implement startAnimationLoop() with requestAnimationFrame and destroyed() with cancelAnimationFrame","status":"pending","owner":"","file":"3.3.1-topology-map-js-hook.md"}
{"type":"subtask","id":"3.3.1.4","task_id":"3.3.1","title":"Register TopologyMap hook in assets/js/app.js Hooks object","status":"pending","owner":"","file":"3.3.1-topology-map-js-hook.md"}
{"type":"task","id":"3.3.2","section_id":"3.3","title":"Node State Color Mapping","status":"pending","governed_by":["ADR-016"],"parent_uc":["UC-0239"],"file":"3.3.2-node-state-color-mapping.md"}
{"type":"subtask","id":"3.3.2.1","task_id":"3.3.2","title":"Define NODE_COLORS constant with all six state-to-hex mappings per ADR-016","status":"pending","owner":"","file":"3.3.2-node-state-color-mapping.md"}
{"type":"subtask","id":"3.3.2.2","task_id":"3.3.2","title":"Implement render() drawing nodes with color lookup, alert_entropy flash, and edge lines","status":"pending","owner":"","file":"3.3.2-node-state-color-mapping.md"}
{"type":"task","id":"3.3.3","section_id":"3.3","title":"Edge Click pushEvent Contract","status":"pending","governed_by":["ADR-016"],"parent_uc":["UC-0240"],"file":"3.3.3-edge-click-push-event.md"}
{"type":"subtask","id":"3.3.3.1","task_id":"3.3.3","title":"Implement handleClick with canvas coordinate computation and node hit detection via hypot","status":"pending","owner":"","file":"3.3.3-edge-click-push-event.md"}
{"type":"subtask","id":"3.3.3.2","task_id":"3.3.3","title":"Implement edge proximity detection using point-to-segment distance and pushEvent edge_selected","status":"pending","owner":"","file":"3.3.3-edge-click-push-event.md"}
{"type":"task","id":"3.3.4","section_id":"3.3","title":"TopologyBuilder Module","status":"pending","governed_by":["ADR-016","ADR-017"],"parent_uc":["UC-0241"],"file":"3.3.4-topology-builder-module.md"}
{"type":"subtask","id":"3.3.4.1","task_id":"3.3.4","title":"Create topology_builder.ex with GenServer subscribing to dag:updates meta-topic","status":"pending","owner":"","file":"3.3.4-topology-builder-module.md"}
{"type":"subtask","id":"3.3.4.2","task_id":"3.3.4","title":"Implement handle_info deriving nodes/edges from DAG map and broadcasting to gateway:topology","status":"pending","owner":"","file":"3.3.4-topology-builder-module.md"}
{"type":"subtask","id":"3.3.4.3","task_id":"3.3.4","title":"Update CausalDAG broadcast_delta to also publish session_dag_updated to dag:updates meta-topic","status":"pending","owner":"","file":"3.3.4-topology-builder-module.md"}
{"type":"subtask","id":"3.3.4.4","task_id":"3.3.4","title":"Write tests for TopologyBuilder broadcasting after DAG delta and skipping pruned session","status":"pending","owner":"","file":"3.3.4-topology-builder-module.md"}
{"type":"task","id":"3.3.5","section_id":"3.3","title":"gateway:topology PubSub Topic","status":"pending","governed_by":["ADR-016"],"parent_uc":["UC-0249"],"file":"3.3.5-gateway-topology-pubsub-topic.md"}
{"type":"subtask","id":"3.3.5.1","task_id":"3.3.5","title":"Write test verifying subscriber receives nodes/edges keys on gateway:topology","status":"pending","owner":"","file":"3.3.5-gateway-topology-pubsub-topic.md"}
{"type":"subtask","id":"3.3.5.2","task_id":"3.3.5","title":"Add @moduledoc to topology_builder.ex declaring sole-publisher constraint and direct-ETS prohibition","status":"pending","owner":"","file":"3.3.5-gateway-topology-pubsub-topic.md"}
{"type":"section","id":"3.4","phase_id":"3","title":"EntropyTracker Sliding Window","status":"pending","file":"3.4-entropy-tracker-sliding-window.md"}
{"type":"task","id":"3.4.1","section_id":"3.4","title":"EntropyTracker GenServer & ETS","status":"pending","governed_by":["ADR-018"],"parent_uc":["UC-0242","UC-0250"],"file":"3.4.1-entropy-tracker-genserver.md"}
{"type":"subtask","id":"3.4.1.1","task_id":"3.4.1","title":"Create entropy_tracker.ex with GenServer, private ETS :entropy_windows table, and start_link/1","status":"pending","owner":"","file":"3.4.1-entropy-tracker-genserver.md"}
{"type":"subtask","id":"3.4.1.2","task_id":"3.4.1","title":"Implement public record_and_score/2 as synchronous GenServer.call returning {:ok, score, severity}","status":"pending","owner":"","file":"3.4.1-entropy-tracker-genserver.md"}
{"type":"subtask","id":"3.4.1.3","task_id":"3.4.1","title":"Write test that ETS table is private and raises ArgumentError from outside the GenServer process","status":"pending","owner":"","file":"3.4.1-entropy-tracker-genserver.md"}
{"type":"task","id":"3.4.2","section_id":"3.4","title":"Sliding Window Mechanics","status":"pending","governed_by":["ADR-018"],"parent_uc":["UC-0250"],"file":"3.4.2-sliding-window-mechanics.md"}
{"type":"subtask","id":"3.4.2.1","task_id":"3.4.2","title":"Implement handle_call with ETS lookup, window append, cap-enforcement eviction, and ETS write-back","status":"pending","owner":"","file":"3.4.2-sliding-window-mechanics.md"}
{"type":"subtask","id":"3.4.2.2","task_id":"3.4.2","title":"Write tests for sixth tuple evicting oldest and score computed over 3 tuples equaling 1.0","status":"pending","owner":"","file":"3.4.2-sliding-window-mechanics.md"}
{"type":"section","id":"3.5","phase_id":"3","title":"Entropy Alerting & Severity","status":"pending","file":"3.5-entropy-alerting-and-severity.md"}
{"type":"task","id":"3.5.1","section_id":"3.5","title":"Uniqueness Ratio Computation","status":"pending","governed_by":["ADR-018"],"parent_uc":["UC-0243"],"file":"3.5.1-uniqueness-ratio-computation.md"}
{"type":"subtask","id":"3.5.1.1","task_id":"3.5.1","title":"Implement private compute_score/1 using MapSet for uniqueness and Float.round/2","status":"pending","owner":"","file":"3.5.1-uniqueness-ratio-computation.md"}
{"type":"subtask","id":"3.5.1.2","task_id":"3.5.1","title":"Write tests for 5 identical = 0.2, 5 unique = 1.0, 3 tuples with 2 unique = 0.6667","status":"pending","owner":"","file":"3.5.1-uniqueness-ratio-computation.md"}
{"type":"task","id":"3.5.2","section_id":"3.5","title":"LOOP Threshold Actions (score < 0.25)","status":"pending","governed_by":["ADR-018","ADR-021"],"parent_uc":["UC-0251"],"file":"3.5.2-loop-threshold-actions.md"}
{"type":"subtask","id":"3.5.2.1","task_id":"3.5.2","title":"Implement LOOP threshold check in handle_call with per-call Application.get_env and invalid-type fallback","status":"pending","owner":"","file":"3.5.2-loop-threshold-actions.md"}
{"type":"subtask","id":"3.5.2.2","task_id":"3.5.2","title":"Write tests for score 0.2 triggering LOOP with both topic broadcasts and score 0.25 not triggering LOOP","status":"pending","owner":"","file":"3.5.2-loop-threshold-actions.md"}
{"type":"task","id":"3.5.3","section_id":"3.5","title":"WARNING Range (0.25 <= score < 0.50)","status":"pending","governed_by":["ADR-018"],"parent_uc":["UC-0244","UC-0252"],"file":"3.5.3-warning-range.md"}
{"type":"subtask","id":"3.5.3.1","task_id":"3.5.3","title":"Implement WARNING range check with topology :blocked broadcast and no entropy_alerts broadcast","status":"pending","owner":"","file":"3.5.3-warning-range.md"}
{"type":"subtask","id":"3.5.3.2","task_id":"3.5.3","title":"Write tests for score 0.4 WARNING with topology broadcast and prior WARNING not suppressing LOOP escalation","status":"pending","owner":"","file":"3.5.3-warning-range.md"}
{"type":"task","id":"3.5.4","section_id":"3.5","title":"Normal Range Recovery (score >= 0.50)","status":"pending","governed_by":["ADR-018"],"parent_uc":["UC-0252"],"file":"3.5.4-normal-range-recovery.md"}
{"type":"subtask","id":"3.5.4.1","task_id":"3.5.4","title":"Store prior_severity alongside window in ETS and broadcast :active reset on Normal recovery","status":"pending","owner":"","file":"3.5.4-normal-range-recovery.md"}
{"type":"subtask","id":"3.5.4.2","task_id":"3.5.4","title":"Write tests for score 0.8 :normal no alerts, LOOP-to-Normal :active broadcast, and score 0.5 is :normal","status":"pending","owner":"","file":"3.5.4-normal-range-recovery.md"}
{"type":"task","id":"3.5.5","section_id":"3.5","title":"EntropyAlertEvent Fields","status":"pending","governed_by":["ADR-018"],"parent_uc":["UC-0245"],"file":"3.5.5-entropy-alert-event-fields.md"}
{"type":"subtask","id":"3.5.5.1","task_id":"3.5.5","title":"Extend ETS entry to include agent_id and add register_agent/2 public function","status":"pending","owner":"","file":"3.5.5-entropy-alert-event-fields.md"}
{"type":"subtask","id":"3.5.5.2","task_id":"3.5.5","title":"Implement build_alert_event/4 with nil agent_id guard, most-frequent pattern computation, and PubSub broadcast","status":"pending","owner":"","file":"3.5.5-entropy-alert-event-fields.md"}
{"type":"subtask","id":"3.5.5.3","task_id":"3.5.5","title":"Write tests for all 7 required fields in alert event and missing agent_id returning {:error, :missing_agent_id}","status":"pending","owner":"","file":"3.5.5-entropy-alert-event-fields.md"}
{"type":"section","id":"3.6","phase_id":"3","title":"Entropy PubSub & SchemaInterceptor Integration","status":"pending","file":"3.6-entropy-pubsub-and-integration.md"}
{"type":"task","id":"3.6.1","section_id":"3.6","title":"Gateway Authoritative Score Overwrite","status":"pending","governed_by":["ADR-018","ADR-015"],"parent_uc":["UC-0246"],"file":"3.6.1-gateway-score-overwrite.md"}
{"type":"subtask","id":"3.6.1.1","task_id":"3.6.1","title":"Add EntropyTracker.record_and_score call synchronously in SchemaInterceptor post-validation path","status":"pending","owner":"","file":"3.6.1-gateway-score-overwrite.md"}
{"type":"subtask","id":"3.6.1.2","task_id":"3.6.1","title":"Pattern-match on result: {:ok, score} overwrites entropy_score; {:error} retains original with warning log","status":"pending","owner":"","file":"3.6.1-gateway-score-overwrite.md"}
{"type":"subtask","id":"3.6.1.3","task_id":"3.6.1","title":"Write integration tests for entropy overwrite and {:error, :missing_agent_id} retaining original score","status":"pending","owner":"","file":"3.6.1-gateway-score-overwrite.md"}
{"type":"task","id":"3.6.2","section_id":"3.6","title":"SchemaInterceptor Call Contract","status":"pending","governed_by":["ADR-018","ADR-015"],"parent_uc":["UC-0253"],"file":"3.6.2-schema-interceptor-call-contract.md"}
{"type":"subtask","id":"3.6.2.1","task_id":"3.6.2","title":"Write test confirming schema-invalid message does not invoke record_and_score","status":"pending","owner":"","file":"3.6.2-schema-interceptor-call-contract.md"}
{"type":"subtask","id":"3.6.2.2","task_id":"3.6.2","title":"Add synchronous-call comment at record_and_score call site referencing FR-9.9 and ADR-018","status":"pending","owner":"","file":"3.6.2-schema-interceptor-call-contract.md"}
{"type":"task","id":"3.6.3","section_id":"3.6","title":"gateway:entropy_alerts PubSub & Deduplication","status":"pending","governed_by":["ADR-018"],"parent_uc":["UC-0247"],"file":"3.6.3-entropy-alerts-pubsub-deduplication.md"}
{"type":"subtask","id":"3.6.3.1","task_id":"3.6.3","title":"Specify mount/3 PubSub subscription and handle_info deduplication logic for Session Cluster Manager LiveView","status":"pending","owner":"","file":"3.6.3-entropy-alerts-pubsub-deduplication.md"}
{"type":"subtask","id":"3.6.3.2","task_id":"3.6.3","title":"Write unit tests for two alerts for same session_id producing one map entry and two different sessions producing two entries","status":"pending","owner":"","file":"3.6.3-entropy-alerts-pubsub-deduplication.md"}
{"type":"task","id":"3.6.4","section_id":"3.6","title":"Runtime Configuration of Thresholds","status":"pending","governed_by":["ADR-018"],"parent_uc":["UC-0248"],"file":"3.6.4-runtime-configuration-of-thresholds.md"}
{"type":"subtask","id":"3.6.4.1","task_id":"3.6.4","title":"Write tests for runtime change to entropy_loop_threshold taking effect on next record_and_score call","status":"pending","owner":"","file":"3.6.4-runtime-configuration-of-thresholds.md"}
{"type":"subtask","id":"3.6.4.2","task_id":"3.6.4","title":"Write test for invalid string entropy_loop_threshold falling back to default 0.25 with warning log","status":"pending","owner":"","file":"3.6.4-runtime-configuration-of-thresholds.md"}
{"type":"subtask","id":"3.6.4.3","task_id":"3.6.4","title":"Run full build and all Phase 3 test files confirming zero warnings","status":"pending","owner":"","file":"3.6.4-runtime-configuration-of-thresholds.md"}
{"type":"phase","id":"4","title":"gateway-infrastructure-and-hitl","status":"pending","governed_by":["ADR-019","ADR-020","ADR-021"],"file":"4-gateway-infrastructure-and-hitl.md"}
{"type":"section","id":"4.1","phase_id":"4","title":"HeartbeatManager GenServer","status":"pending","file":"4.1-heartbeat-manager-genserver.md"}
{"type":"task","id":"4.1.1","section_id":"4.1","title":"GenServer Module and State Map","status":"pending","governed_by":["ADR-019"],"parent_uc":["UC-0260","UC-0261"],"file":"4.1.1-genserver-module-and-state-map.md"}
{"type":"subtask","id":"4.1.1.1","task_id":"4.1.1","title":"Create heartbeat_manager.ex with GenServer, module attrs, start_link/1, and timer init","status":"pending","owner":"","file":"4.1.1-genserver-module-and-state-map.md"}
{"type":"subtask","id":"4.1.1.2","task_id":"4.1.1","title":"Implement record_heartbeat/2 as GenServer.call inserting/replacing state map entry","status":"pending","owner":"","file":"4.1.1-genserver-module-and-state-map.md"}
{"type":"subtask","id":"4.1.1.3","task_id":"4.1.1","title":"Implement handle_info(:check_heartbeats) evicting stale agents via CapabilityMap.remove_agent","status":"pending","owner":"","file":"4.1.1-genserver-module-and-state-map.md"}
{"type":"subtask","id":"4.1.1.4","task_id":"4.1.1","title":"Add HeartbeatManager to application supervisor in lib/observatory/application.ex","status":"pending","owner":"","file":"4.1.1-genserver-module-and-state-map.md"}
{"type":"task","id":"4.1.2","section_id":"4.1","title":"gateway_heartbeats Migration and Ecto Schema","status":"pending","governed_by":["ADR-019"],"parent_uc":["UC-0263"],"file":"4.1.2-gateway-heartbeats-migration.md"}
{"type":"subtask","id":"4.1.2.1","task_id":"4.1.2","title":"Generate and populate Ecto migration creating gateway_heartbeats table","status":"pending","owner":"","file":"4.1.2-gateway-heartbeats-migration.md"}
{"type":"subtask","id":"4.1.2.2","task_id":"4.1.2","title":"Create heartbeat_record.ex with Ecto.Schema for gateway_heartbeats and changeset/2","status":"pending","owner":"","file":"4.1.2-gateway-heartbeats-migration.md"}
{"type":"task","id":"4.1.3","section_id":"4.1","title":"POST /gateway/heartbeat Controller","status":"pending","governed_by":["ADR-019"],"parent_uc":["UC-0260","UC-0262"],"file":"4.1.3-post-gateway-heartbeat-controller.md"}
{"type":"subtask","id":"4.1.3.1","task_id":"4.1.3","title":"Create heartbeat_controller.ex with create/2 validating type, agent_id, cluster_id returning 422 on failure","status":"pending","owner":"","file":"4.1.3-post-gateway-heartbeat-controller.md"}
{"type":"subtask","id":"4.1.3.2","task_id":"4.1.3","title":"Implement success path with timestamp parsing, Repo upsert, and HeartbeatManager.record_heartbeat with 503 rescue","status":"pending","owner":"","file":"4.1.3-post-gateway-heartbeat-controller.md"}
{"type":"subtask","id":"4.1.3.3","task_id":"4.1.3","title":"Add POST /gateway/heartbeat route to router.ex :api pipeline scope","status":"pending","owner":"","file":"4.1.3-post-gateway-heartbeat-controller.md"}
{"type":"task","id":"4.1.4","section_id":"4.1","title":"HeartbeatManager Tests","status":"pending","governed_by":["ADR-019"],"parent_uc":["UC-0260","UC-0261","UC-0262","UC-0263"],"file":"4.1.4-heartbeat-manager-tests.md"}
{"type":"subtask","id":"4.1.4.1","task_id":"4.1.4","title":"Write GenServer tests for record_heartbeat :ok, duplicate replacement, and downed GenServer raising","status":"pending","owner":"","file":"4.1.4-heartbeat-manager-tests.md"}
{"type":"subtask","id":"4.1.4.2","task_id":"4.1.4","title":"Write eviction test manipulating state to set last_seen 100s ago and sending :check_heartbeats","status":"pending","owner":"","file":"4.1.4-heartbeat-manager-tests.md"}
{"type":"subtask","id":"4.1.4.3","task_id":"4.1.4","title":"Write HTTP controller tests for valid POST 200, type mismatch 422, missing agent_id 422, and idempotent upsert","status":"pending","owner":"","file":"4.1.4-heartbeat-manager-tests.md"}
{"type":"section","id":"4.2","phase_id":"4","title":"CronScheduler & DB Schema","status":"pending","file":"4.2-cron-scheduler-and-db-schema.md"}
{"type":"task","id":"4.2.1","section_id":"4.2","title":"CronScheduler GenServer Module","status":"pending","governed_by":["ADR-019"],"parent_uc":["UC-0264","UC-0265"],"file":"4.2.1-cron-scheduler-genserver.md"}
{"type":"subtask","id":"4.2.1.1","task_id":"4.2.1","title":"Create cron_scheduler.ex with GenServer, startup recovery from cron_jobs table, and timer scheduling","status":"pending","owner":"","file":"4.2.1-cron-scheduler-genserver.md"}
{"type":"subtask","id":"4.2.1.2","task_id":"4.2.1","title":"Implement schedule_once/3 with positive-integer validation, DB insert, and Process.send_after","status":"pending","owner":"","file":"4.2.1-cron-scheduler-genserver.md"}
{"type":"subtask","id":"4.2.1.3","task_id":"4.2.1","title":"Implement handle_info({:fire_job}) with PubSub broadcast and row deletion for one-time jobs","status":"pending","owner":"","file":"4.2.1-cron-scheduler-genserver.md"}
{"type":"subtask","id":"4.2.1.4","task_id":"4.2.1","title":"Add CronScheduler to application supervisor","status":"pending","owner":"","file":"4.2.1-cron-scheduler-genserver.md"}
{"type":"task","id":"4.2.2","section_id":"4.2","title":"cron_jobs Migration and Ecto Schema","status":"pending","governed_by":["ADR-019"],"parent_uc":["UC-0264","UC-0265"],"file":"4.2.2-cron-jobs-migration.md"}
{"type":"subtask","id":"4.2.2.1","task_id":"4.2.2","title":"Generate and populate Ecto migration creating cron_jobs table","status":"pending","owner":"","file":"4.2.2-cron-jobs-migration.md"}
{"type":"subtask","id":"4.2.2.2","task_id":"4.2.2","title":"Create cron_job.ex with Ecto.Schema for cron_jobs and changeset/2 validating required fields","status":"pending","owner":"","file":"4.2.2-cron-jobs-migration.md"}
{"type":"task","id":"4.2.3","section_id":"4.2","title":"SchemaInterceptor Extension for schedule_reminder","status":"pending","governed_by":["ADR-019"],"parent_uc":["UC-0266"],"file":"4.2.3-schema-interceptor-schedule-reminder.md"}
{"type":"subtask","id":"4.2.3.1","task_id":"4.2.3","title":"Add maybe_schedule_reminder/1 private function detecting schedule_reminder tool_call","status":"pending","owner":"","file":"4.2.3-schema-interceptor-schedule-reminder.md"}
{"type":"subtask","id":"4.2.3.2","task_id":"4.2.3","title":"Call maybe_schedule_reminder/1 in SchemaInterceptor post-validation pipeline before PubSub broadcast","status":"pending","owner":"","file":"4.2.3-schema-interceptor-schedule-reminder.md"}
{"type":"task","id":"4.2.4","section_id":"4.2","title":"CronScheduler Tests","status":"pending","governed_by":["ADR-019"],"parent_uc":["UC-0264","UC-0265","UC-0266"],"file":"4.2.4-cron-scheduler-tests.md"}
{"type":"subtask","id":"4.2.4.1","task_id":"4.2.4","title":"Write tests for schedule_once :ok with DB row, timer firing PubSub broadcast, and row deletion after fire","status":"pending","owner":"","file":"4.2.4-cron-scheduler-tests.md"}
{"type":"subtask","id":"4.2.4.2","task_id":"4.2.4","title":"Write tests for invalid delay (0 and -500) returning {:error, :invalid_delay} and past-due job startup recovery","status":"pending","owner":"","file":"4.2.4-cron-scheduler-tests.md"}
{"type":"section","id":"4.3","phase_id":"4","title":"WebhookRouter Retry & DLQ","status":"pending","file":"4.3-webhook-router-retry-dlq.md"}
{"type":"task","id":"4.3.1","section_id":"4.3","title":"WebhookRouter GenServer and Retry Schedule","status":"pending","governed_by":["ADR-020"],"parent_uc":["UC-0268","UC-0270"],"file":"4.3.1-webhook-router-genserver.md"}
{"type":"subtask","id":"4.3.1.1","task_id":"4.3.1","title":"Create webhook_router.ex with GenServer, retry schedule attrs, and startup requeue","status":"pending","owner":"","file":"4.3.1-webhook-router-genserver.md"}
{"type":"subtask","id":"4.3.1.2","task_id":"4.3.1","title":"Implement handle_info(:poll) querying pending/failed rows (limit 5) and calling attempt_delivery/1","status":"pending","owner":"","file":"4.3.1-webhook-router-genserver.md"}
{"type":"subtask","id":"4.3.1.3","task_id":"4.3.1","title":"Implement attempt_delivery/1 with HTTP POST, mark_delivered/1, and schedule_retry/1 with DLQ broadcast at attempt 5","status":"pending","owner":"","file":"4.3.1-webhook-router-genserver.md"}
{"type":"subtask","id":"4.3.1.4","task_id":"4.3.1","title":"Implement requeue_undelivered/0 resetting past-due next_retry_at to now on startup","status":"pending","owner":"","file":"4.3.1-webhook-router-genserver.md"}
{"type":"subtask","id":"4.3.1.5","task_id":"4.3.1","title":"Add WebhookRouter to application supervisor","status":"pending","owner":"","file":"4.3.1-webhook-router-genserver.md"}
{"type":"task","id":"4.3.2","section_id":"4.3","title":"webhook_deliveries and webhook_configs Migrations","status":"pending","governed_by":["ADR-020"],"parent_uc":["UC-0279"],"file":"4.3.2-webhook-migrations.md"}
{"type":"subtask","id":"4.3.2.1","task_id":"4.3.2","title":"Generate and populate migration creating webhook_configs and webhook_deliveries tables","status":"pending","owner":"","file":"4.3.2-webhook-migrations.md"}
{"type":"subtask","id":"4.3.2.2","task_id":"4.3.2","title":"Add compound index on (status, next_retry_at) to webhook_deliveries","status":"pending","owner":"","file":"4.3.2-webhook-migrations.md"}
{"type":"subtask","id":"4.3.2.3","task_id":"4.3.2","title":"Create webhook_delivery.ex with Ecto.Schema and changeset/2 validating required fields","status":"pending","owner":"","file":"4.3.2-webhook-migrations.md"}
{"type":"task","id":"4.3.3","section_id":"4.3","title":"HMAC-SHA256 Signature and Inbound Endpoint","status":"pending","governed_by":["ADR-020"],"parent_uc":["UC-0267"],"file":"4.3.3-hmac-signature-and-inbound.md"}
{"type":"subtask","id":"4.3.3.1","task_id":"4.3.3","title":"Create webhook_controller.ex with receive/2 doing HMAC validation and 401 on mismatch","status":"pending","owner":"","file":"4.3.3-hmac-signature-and-inbound.md"}
{"type":"subtask","id":"4.3.3.2","task_id":"4.3.3","title":"Implement success path inserting WebhookDelivery row with status pending","status":"pending","owner":"","file":"4.3.3-hmac-signature-and-inbound.md"}
{"type":"subtask","id":"4.3.3.3","task_id":"4.3.3","title":"Add POST /gateway/webhooks/:webhook_id route and raw body reader config to router","status":"pending","owner":"","file":"4.3.3-hmac-signature-and-inbound.md"}
{"type":"subtask","id":"4.3.3.4","task_id":"4.3.3","title":"Add compute_outbound_signature/2 public function to WebhookRouter","status":"pending","owner":"","file":"4.3.3-hmac-signature-and-inbound.md"}
{"type":"task","id":"4.3.4","section_id":"4.3","title":"WebhookRouter Tests","status":"pending","governed_by":["ADR-020"],"parent_uc":["UC-0267","UC-0268","UC-0269","UC-0270","UC-0279"],"file":"4.3.4-webhook-router-tests.md"}
{"type":"subtask","id":"4.3.4.1","task_id":"4.3.4","title":"Write tests for compute_outbound_signature sha256 prefix, retry delays, and status: dead after 5 failures","status":"pending","owner":"","file":"4.3.4-webhook-router-tests.md"}
{"type":"subtask","id":"4.3.4.2","task_id":"4.3.4","title":"Write WebhookDelivery changeset tests and polling query filter tests","status":"pending","owner":"","file":"4.3.4-webhook-router-tests.md"}
{"type":"subtask","id":"4.3.4.3","task_id":"4.3.4","title":"Write webhook controller tests for valid signature creating pending row, tampered body returning 401, and failure event broadcast","status":"pending","owner":"","file":"4.3.4-webhook-router-tests.md"}
{"type":"section","id":"4.4","phase_id":"4","title":"HITLRelay State Machine","status":"pending","file":"4.4-hitl-relay-state-machine.md"}
{"type":"task","id":"4.4.1","section_id":"4.4","title":"HITLRelay GenServer and State Machine","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0271","UC-0273"],"file":"4.4.1-hitl-relay-genserver.md"}
{"type":"subtask","id":"4.4.1.1","task_id":"4.4.1","title":"Create hitl_relay.ex with GenServer, :hitl_buffer ordered_set ETS table, and start_link/1","status":"pending","owner":"","file":"4.4.1-hitl-relay-genserver.md"}
{"type":"subtask","id":"4.4.1.2","task_id":"4.4.1","title":"Implement pause/4 with :already_paused guard and HITLGateOpenEvent broadcast","status":"pending","owner":"","file":"4.4.1-hitl-relay-genserver.md"}
{"type":"subtask","id":"4.4.1.3","task_id":"4.4.1","title":"Implement unpause/3 with buffer flush, :normal transition, and HITLGateCloseEvent broadcast","status":"pending","owner":"","file":"4.4.1-hitl-relay-genserver.md"}
{"type":"subtask","id":"4.4.1.4","task_id":"4.4.1","title":"Add HITLRelay to application supervisor","status":"pending","owner":"","file":"4.4.1-hitl-relay-genserver.md"}
{"type":"task","id":"4.4.2","section_id":"4.4","title":"ETS Buffer and Rewrite Support","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0272"],"file":"4.4.2-ets-buffer-and-rewrite.md"}
{"type":"subtask","id":"4.4.2.1","task_id":"4.4.2","title":"Implement buffer_message/3 as GenServer.cast appending to ETS list; no-op when session is :normal","status":"pending","owner":"","file":"4.4.2-ets-buffer-and-rewrite.md"}
{"type":"subtask","id":"4.4.2.2","task_id":"4.4.2","title":"Implement rewrite/5 searching buffer by trace_id and returning {:error, :trace_id_not_found_in_buffer} on miss","status":"pending","owner":"","file":"4.4.2-ets-buffer-and-rewrite.md"}
{"type":"task","id":"4.4.3","section_id":"4.4","title":"inject Command and Four Command Types","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0274"],"file":"4.4.3-inject-command-and-event-structs.md"}
{"type":"subtask","id":"4.4.3.1","task_id":"4.4.3","title":"Define HITLGateOpenEvent and HITLGateCloseEvent defstructs with required fields","status":"pending","owner":"","file":"4.4.3-inject-command-and-event-structs.md"}
{"type":"subtask","id":"4.4.3.2","task_id":"4.4.3","title":"Implement inject/4 constructing synthetic %DecisionLog{} and buffering or broadcasting based on session state","status":"pending","owner":"","file":"4.4.3-inject-command-and-event-structs.md"}
{"type":"task","id":"4.4.4","section_id":"4.4","title":"HITLRelay State Machine Tests","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0271","UC-0272","UC-0273","UC-0274"],"file":"4.4.4-hitl-relay-tests.md"}
{"type":"subtask","id":"4.4.4.1","task_id":"4.4.4","title":"Write tests for pause :ok with HITLGateOpenEvent, double-pause :already_paused, unpause HITLGateCloseEvent","status":"pending","owner":"","file":"4.4.4-hitl-relay-tests.md"}
{"type":"subtask","id":"4.4.4.2","task_id":"4.4.4","title":"Write tests for three buffered logs flushed in order, rewrite modifying buffered entry, non-existent trace_id error, empty-buffer unpause","status":"pending","owner":"","file":"4.4.4-hitl-relay-tests.md"}
{"type":"section","id":"4.5","phase_id":"4","title":"HITL HTTP Endpoints & Auth","status":"pending","file":"4.5-hitl-http-endpoints-and-auth.md"}
{"type":"task","id":"4.5.1","section_id":"4.5","title":"OperatorAuth Plug","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0281"],"file":"4.5.1-operator-auth-plug.md"}
{"type":"subtask","id":"4.5.1.1","task_id":"4.5.1","title":"Create operator_auth.ex with @behaviour Plug, init/1, and call/2 reading X-Observatory-Operator-Id header","status":"pending","owner":"","file":"4.5.1-operator-auth-plug.md"}
{"type":"task","id":"4.5.2","section_id":"4.5","title":"HITL Controller and Router Wiring","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0274","UC-0280"],"file":"4.5.2-hitl-controller-and-router.md"}
{"type":"subtask","id":"4.5.2.1","task_id":"4.5.2","title":"Create hitl_controller.ex with pause/2 validating agent_id, operator_id, reason and calling HITLRelay.pause","status":"pending","owner":"","file":"4.5.2-hitl-controller-and-router.md"}
{"type":"subtask","id":"4.5.2.2","task_id":"4.5.2","title":"Implement unpause/2, rewrite/2, and inject/2 actions with field validation and HITLRelay delegation","status":"pending","owner":"","file":"4.5.2-hitl-controller-and-router.md"}
{"type":"subtask","id":"4.5.2.3","task_id":"4.5.2","title":"Add :hitl_api pipeline with OperatorAuth plug and four session routes to router.ex","status":"pending","owner":"","file":"4.5.2-hitl-controller-and-router.md"}
{"type":"task","id":"4.5.3","section_id":"4.5","title":"HITLInterventionEvent Ash Resource","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0275"],"file":"4.5.3-hitl-intervention-event-resource.md"}
{"type":"subtask","id":"4.5.3.1","task_id":"4.5.3","title":"Create hitl_intervention_event.ex as Ash.Resource with all attributes and :create action","status":"pending","owner":"","file":"4.5.3-hitl-intervention-event-resource.md"}
{"type":"subtask","id":"4.5.3.2","task_id":"4.5.3","title":"Run mix ash.codegen and mix ash.migrate to create hitl_intervention_events table","status":"pending","owner":"","file":"4.5.3-hitl-intervention-event-resource.md"}
{"type":"subtask","id":"4.5.3.3","task_id":"4.5.3","title":"Add create_audit_event/4 helper to HITLController and call at end of each action success path","status":"pending","owner":"","file":"4.5.3-hitl-intervention-event-resource.md"}
{"type":"task","id":"4.5.4","section_id":"4.5","title":"HITL Controller Tests","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0274","UC-0275","UC-0280","UC-0281"],"file":"4.5.4-hitl-controller-tests.md"}
{"type":"subtask","id":"4.5.4.1","task_id":"4.5.4","title":"Write tests for valid pause 200, missing operator header 401, and whitespace-only operator header 401","status":"pending","owner":"","file":"4.5.4-hitl-controller-tests.md"}
{"type":"subtask","id":"4.5.4.2","task_id":"4.5.4","title":"Write tests for rewrite missing trace_id 422, non-existent trace_id 422, pause creating HITLInterventionEvent row, rewrite SHA-256 hashes","status":"pending","owner":"","file":"4.5.4-hitl-controller-tests.md"}
{"type":"section","id":"4.6","phase_id":"4","title":"Auto-Pause & Operator Actions","status":"pending","file":"4.6-auto-pause-and-operator-actions.md"}
{"type":"task","id":"4.6.1","section_id":"4.6","title":"SchemaInterceptor Auto-Pause Extension","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0276"],"file":"4.6.1-schema-interceptor-auto-pause.md"}
{"type":"subtask","id":"4.6.1.1","task_id":"4.6.1","title":"Add maybe_auto_pause/1 private function checking control.hitl_required and calling HITLRelay.pause/buffer_message","status":"pending","owner":"","file":"4.6.1-schema-interceptor-auto-pause.md"}
{"type":"subtask","id":"4.6.1.2","task_id":"4.6.1","title":"Call maybe_auto_pause/1 first in SchemaInterceptor post-validation dispatch; skip broadcast on {:paused, _log}","status":"pending","owner":"","file":"4.6.1-schema-interceptor-auto-pause.md"}
{"type":"subtask","id":"4.6.1.3","task_id":"4.6.1","title":"Write test that hitl_required: true triggers HITLGateOpenEvent and NOT broadcast until unpause","status":"pending","owner":"","file":"4.6.1-schema-interceptor-auto-pause.md"}
{"type":"task","id":"4.6.2","section_id":"4.6","title":"Session Drill-down Approval Gate UI","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0277","UC-0282"],"file":"4.6.2-session-drilldown-approval-gate.md"}
{"type":"subtask","id":"4.6.2.1","task_id":"4.6.2","title":"Create SessionDrilldownLive with PubSub subscription and handle_info for HITLGateOpenEvent and HITLGateCloseEvent","status":"pending","owner":"","file":"4.6.2-session-drilldown-approval-gate.md"}
{"type":"subtask","id":"4.6.2.2","task_id":"4.6.2","title":"Implement approval gate template with Approve, Rewrite form, and Reject buttons calling HITL endpoints","status":"pending","owner":"","file":"4.6.2-session-drilldown-approval-gate.md"}
{"type":"task","id":"4.6.3","section_id":"4.6","title":"Diamond DAG Node for HITL Interventions","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0278"],"file":"4.6.3-diamond-dag-node.md"}
{"type":"subtask","id":"4.6.3.1","task_id":"4.6.3","title":"Query HITLInterventionEvent rows by session_id and merge into DAG node list as sentinel entries","status":"pending","owner":"","file":"4.6.3-diamond-dag-node.md"}
{"type":"subtask","id":"4.6.3.2","task_id":"4.6.3","title":"Implement hitl_diamond_node/1 function component rendering SVG diamond with count badge and tooltip","status":"pending","owner":"","file":"4.6.3-diamond-dag-node.md"}
{"type":"subtask","id":"4.6.3.3","task_id":"4.6.3","title":"Write LiveView tests for subscription at mount, HITLGateOpenEvent sets hitl_gate_open, HITLGateCloseEvent clears it","status":"pending","owner":"","file":"4.6.3-diamond-dag-node.md"}
{"type":"task","id":"4.6.4","section_id":"4.6","title":"End-to-End HITL Integration Tests","status":"pending","governed_by":["ADR-021"],"parent_uc":["UC-0271","UC-0272","UC-0273","UC-0276","UC-0277"],"file":"4.6.4-end-to-end-hitl-tests.md"}
{"type":"subtask","id":"4.6.4.1","task_id":"4.6.4","title":"Write integration test: hitl_required DecisionLog not broadcast until POST /unpause called, then broadcast received","status":"pending","owner":"","file":"4.6.4-end-to-end-hitl-tests.md"}
{"type":"subtask","id":"4.6.4.2","task_id":"4.6.4","title":"Write integration test for Reject path: POST /inject then /unpause delivers injected message first","status":"pending","owner":"","file":"4.6.4-end-to-end-hitl-tests.md"}
{"type":"phase","id":"5","title":"hypervisor-ui","status":"pending","governed_by":["ADR-022"],"file":"5-hypervisor-ui.md"}
{"type":"section","id":"5.1","phase_id":"5","title":"Six-View Navigation Shell","status":"pending","file":"5.1-six-view-navigation-shell.md"}
{"type":"task","id":"5.1.1","section_id":"5.1","title":"Six view_mode Atoms, Default Assign, and localStorage Hook","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0300","UC-0301","UC-0303"],"file":"5.1.1-six-view-mode-atoms.md"}
{"type":"subtask","id":"5.1.1.1","task_id":"5.1.1","title":"Add @valid_view_modes module attribute and view_mode: :fleet_command assign to mount/3","status":"pending","owner":"","file":"5.1.1-six-view-mode-atoms.md"}
{"type":"subtask","id":"5.1.1.2","task_id":"5.1.1","title":"Add ViewModePersistence JS hook in app.js reading localStorage and pushing restore_view_mode event","status":"pending","owner":"","file":"5.1.1-six-view-mode-atoms.md"}
{"type":"subtask","id":"5.1.1.3","task_id":"5.1.1","title":"Add handle_event(\"restore_view_mode\") with six valid clauses and catch-all warning in dashboard_navigation_handlers.ex","status":"pending","owner":"","file":"5.1.1-six-view-mode-atoms.md"}
{"type":"subtask","id":"5.1.1.4","task_id":"5.1.1","title":"Write tests for default :fleet_command, restore scheduler, and legacy 'command' falling back to :fleet_command","status":"pending","owner":"","file":"5.1.1-six-view-mode-atoms.md"}
{"type":"task","id":"5.1.2","section_id":"5.1","title":"Keyboard Shortcuts 1-6 and Escape Key Handler","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0301","UC-0302"],"file":"5.1.2-keyboard-shortcuts.md"}
{"type":"subtask","id":"5.1.2.1","task_id":"5.1.2","title":"Add keydown clauses for 1 through 6 with persist_view_mode push_event and catch-all no-op","status":"pending","owner":"","file":"5.1.2-keyboard-shortcuts.md"}
{"type":"subtask","id":"5.1.2.2","task_id":"5.1.2","title":"Implement Escape clause with cond priority: selected_session_id, inspected_agent_id, drill_down_open, view_mode fallback","status":"pending","owner":"","file":"5.1.2-keyboard-shortcuts.md"}
{"type":"subtask","id":"5.1.2.3","task_id":"5.1.2","title":"Write tests for all six key transitions, key 7 no-op, Escape clearing selected_session_id, Escape from :forensic, Escape from :fleet_command no-op","status":"pending","owner":"","file":"5.1.2-keyboard-shortcuts.md"}
{"type":"task","id":"5.1.3","section_id":"5.1","title":"render/1 Dispatch Table and Six Component Module Stubs","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0304"],"file":"5.1.3-render-dispatch-table.md"}
{"type":"subtask","id":"5.1.3.1","task_id":"5.1.3","title":"Create six component module stubs with minimal view container elements","status":"pending","owner":"","file":"5.1.3-render-dispatch-table.md"}
{"type":"subtask","id":"5.1.3.2","task_id":"5.1.3","title":"Add render/1 dispatch block in dashboard_live.html.heex calling correct component for each view_mode atom","status":"pending","owner":"","file":"5.1.3-render-dispatch-table.md"}
{"type":"subtask","id":"5.1.3.3","task_id":"5.1.3","title":"Write tests that each view_mode renders its expected container id element without errors","status":"pending","owner":"","file":"5.1.3-render-dispatch-table.md"}
{"type":"section","id":"5.2","phase_id":"5","title":"Fleet Command View","status":"pending","file":"5.2-fleet-command-view.md"}
{"type":"task","id":"5.2.1","section_id":"5.2","title":"FleetCommandComponents Panel Layout","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0305"],"file":"5.2.1-fleet-command-panel-layout.md"}
{"type":"subtask","id":"5.2.1.1","task_id":"5.2.1","title":"Replace stub with full fleet_command_view/1 rendering all six panel containers","status":"pending","owner":"","file":"5.2.1-fleet-command-panel-layout.md"}
{"type":"subtask","id":"5.2.1.2","task_id":"5.2.1","title":"Add nil assigns for all mesh data fields in mount/3 and handle_info for swarm:update","status":"pending","owner":"","file":"5.2.1-fleet-command-panel-layout.md"}
{"type":"subtask","id":"5.2.1.3","task_id":"5.2.1","title":"Add collapsible agent grid sub-panel with toggle_agent_grid phx-click event","status":"pending","owner":"","file":"5.2.1-fleet-command-panel-layout.md"}
{"type":"subtask","id":"5.2.1.4","task_id":"5.2.1","title":"Write tests for all six panel containers present with and without data, and agent grid toggle","status":"pending","owner":"","file":"5.2.1-fleet-command-panel-layout.md"}
{"type":"task","id":"5.2.2","section_id":"5.2","title":"PubSub Integration and Cost Heatmap Data Pipeline","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0305"],"file":"5.2.2-pubsub-and-cost-heatmap.md"}
{"type":"subtask","id":"5.2.2.1","task_id":"5.2.2","title":"Ensure handle_info({:swarm_update, payload}) extracts all five fleet command assigns with retain-existing fallback","status":"pending","owner":"","file":"5.2.2-pubsub-and-cost-heatmap.md"}
{"type":"subtask","id":"5.2.2.2","task_id":"5.2.2","title":"Confirm swarm:update subscription in mount/3 and implement build_cost_heatmap/1 helper grouping by agent_id","status":"pending","owner":"","file":"5.2.2-pubsub-and-cost-heatmap.md"}
{"type":"section","id":"5.3","phase_id":"5","title":"Session Cluster and Registry Views","status":"pending","file":"5.3-session-cluster-and-registry-views.md"}
{"type":"task","id":"5.3.1","section_id":"5.3","title":"SessionClusterComponents: Active Session List and Entropy Filter","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0306"],"file":"5.3.1-session-cluster-list-and-filter.md"}
{"type":"subtask","id":"5.3.1.1","task_id":"5.3.1","title":"Replace stub with session_cluster_view/1 with filter toggle, session list, select_session phx-click, and empty state","status":"pending","owner":"","file":"5.3.1-session-cluster-list-and-filter.md"}
{"type":"subtask","id":"5.3.1.2","task_id":"5.3.1","title":"Add session/entropy assigns to mount/3 and event handlers for toggle_entropy_filter and select_session","status":"pending","owner":"","file":"5.3.1-session-cluster-list-and-filter.md"}
{"type":"subtask","id":"5.3.1.3","task_id":"5.3.1","title":"Write tests for select_session setting selected_session_id and entropy filter empty state","status":"pending","owner":"","file":"5.3.1-session-cluster-list-and-filter.md"}
{"type":"task","id":"5.3.2","section_id":"5.3","title":"SessionClusterComponents: Causal DAG Drill-Down, Scratchpad, HITL, Sub-Panels","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0306"],"file":"5.3.2-session-cluster-drilldown-panels.md"}
{"type":"subtask","id":"5.3.2.1","task_id":"5.3.2","title":"Add conditional drill-down section to session_cluster_view/1 with three panels and four collapsible sub-panels","status":"pending","owner":"","file":"5.3.2-session-cluster-drilldown-panels.md"}
{"type":"subtask","id":"5.3.2.2","task_id":"5.3.2","title":"Add scratchpad and sub-panel assigns to mount/3 and toggle_subpanel event handler","status":"pending","owner":"","file":"5.3.2-session-cluster-drilldown-panels.md"}
{"type":"task","id":"5.3.3","section_id":"5.3","title":"RegistryComponents: Capability Directory and Routing Logic Manager","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0307"],"file":"5.3.3-registry-components.md"}
{"type":"subtask","id":"5.3.3.1","task_id":"5.3.3","title":"Replace stub with registry_view/1 rendering sortable capability directory table and route weight form","status":"pending","owner":"","file":"5.3.3-registry-components.md"}
{"type":"subtask","id":"5.3.3.2","task_id":"5.3.3","title":"Add registry assigns to mount/3 and event handlers for sort_capability_directory and update_route_weight","status":"pending","owner":"","file":"5.3.3-registry-components.md"}
{"type":"subtask","id":"5.3.3.3","task_id":"5.3.3","title":"Write tests for route weight update valid 70, invalid -1, and sort by instance_count","status":"pending","owner":"","file":"5.3.3-registry-components.md"}
{"type":"section","id":"5.4","phase_id":"5","title":"Scheduler and Forensic Inspector Views","status":"pending","file":"5.4-scheduler-and-forensic-views.md"}
{"type":"task","id":"5.4.1","section_id":"5.4","title":"SchedulerComponents: Cron Job Dashboard, DLQ Panel, and Heartbeat Monitor","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0308"],"file":"5.4.1-scheduler-components.md"}
{"type":"subtask","id":"5.4.1.1","task_id":"5.4.1","title":"Replace stub with scheduler_view/1 rendering cron job rows with status CSS classes, DLQ entries with Retry buttons, and zombie agent list","status":"pending","owner":"","file":"5.4.1-scheduler-components.md"}
{"type":"subtask","id":"5.4.1.2","task_id":"5.4.1","title":"Add cron/dlq/zombie assigns to mount/3 and retry_dlq_entry event handler","status":"pending","owner":"","file":"5.4.1-scheduler-components.md"}
{"type":"subtask","id":"5.4.1.3","task_id":"5.4.1","title":"Write tests for retry_dlq_entry state update, empty DLQ empty state, and CSS class assertions for three cron statuses","status":"pending","owner":"","file":"5.4.1-scheduler-components.md"}
{"type":"task","id":"5.4.2","section_id":"5.4","title":"ForensicComponents: Message Archive, Cost Attribution, Security, and Policy Engine","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0309"],"file":"5.4.2-forensic-components.md"}
{"type":"subtask","id":"5.4.2.1","task_id":"5.4.2","title":"Replace stub with forensic_view/1 rendering four named panels and three collapsible sub-panels","status":"pending","owner":"","file":"5.4.2-forensic-components.md"}
{"type":"subtask","id":"5.4.2.2","task_id":"5.4.2","title":"Add forensic assigns to mount/3 and event handlers for search_archive, set_cost_group_by, add_policy_rule","status":"pending","owner":"","file":"5.4.2-forensic-components.md"}
{"type":"subtask","id":"5.4.2.3","task_id":"5.4.2","title":"Write tests for search returning matching events, no-match empty state, and set_cost_group_by to session_id","status":"pending","owner":"","file":"5.4.2-forensic-components.md"}
{"type":"section","id":"5.5","phase_id":"5","title":"God Mode View and Global Instructions","status":"pending","file":"5.5-god-mode-view.md"}
{"type":"task","id":"5.5.1","section_id":"5.5","title":"GodModeComponents: Kill-Switch Double-Confirm State Machine","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0310","UC-0311"],"file":"5.5.1-god-mode-kill-switch.md"}
{"type":"subtask","id":"5.5.1.1","task_id":"5.5.1","title":"Add four kill-switch event handlers and kill_switch_confirm_step: nil in mount/3","status":"pending","owner":"","file":"5.5.1-god-mode-kill-switch.md"}
{"type":"subtask","id":"5.5.1.2","task_id":"5.5.1","title":"Replace stub with god_mode_view/1 rendering kill-switch section with god-mode-panel and two confirmation modals","status":"pending","owner":"","file":"5.5.1-god-mode-kill-switch.md"}
{"type":"subtask","id":"5.5.1.3","task_id":"5.5.1","title":"Write tests for full click->first_confirm->second_confirm sequence, cancel reset, single click no-dispatch, spurious second_confirm reset","status":"pending","owner":"","file":"5.5.1-god-mode-kill-switch.md"}
{"type":"task","id":"5.5.2","section_id":"5.5","title":"God Mode Danger Zone CSS Classes","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0312"],"file":"5.5.2-god-mode-danger-zone-css.md"}
{"type":"subtask","id":"5.5.2.1","task_id":"5.5.2","title":"Add .god-mode-panel, .god-mode-button-danger, and .god-mode-border to assets/css/app.css under God Mode danger zone comment","status":"pending","owner":"","file":"5.5.2-god-mode-danger-zone-css.md"}
{"type":"subtask","id":"5.5.2.2","task_id":"5.5.2","title":"Audit god_mode_components.ex confirming no primary-button class, no inline style, and correct danger zone classes","status":"pending","owner":"","file":"5.5.2-god-mode-danger-zone-css.md"}
{"type":"subtask","id":"5.5.2.3","task_id":"5.5.2","title":"Write tests for god_mode_view rendering god-mode-button-danger and god-mode-panel elements and no primary-button class","status":"pending","owner":"","file":"5.5.2-god-mode-danger-zone-css.md"}
{"type":"task","id":"5.5.3","section_id":"5.5","title":"God Mode Global Instructions Panel and PubSub Push","status":"pending","governed_by":["ADR-022"],"parent_uc":["UC-0313"],"file":"5.5.3-god-mode-global-instructions.md"}
{"type":"subtask","id":"5.5.3.1","task_id":"5.5.3","title":"Add Global Instructions section to god_mode_view/1 with textarea, Push to all button, and inline confirmation","status":"pending","owner":"","file":"5.5.3-god-mode-global-instructions.md"}
{"type":"subtask","id":"5.5.3.2","task_id":"5.5.3","title":"Add agent_classes and instructions assigns to mount/3 and three instruction event handlers","status":"pending","owner":"","file":"5.5.3-god-mode-global-instructions.md"}
{"type":"subtask","id":"5.5.3.3","task_id":"5.5.3","title":"Write tests for confirm sequence calling PubSub and showing banner, navigation discarding edit, and backend error showing failure banner","status":"pending","owner":"","file":"5.5.3-god-mode-global-instructions.md"}
