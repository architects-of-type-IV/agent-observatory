---
type: task
id: "3.6.2"
section_id: "3.6"
title: "SchemaInterceptor Call Contract"
status: pending
governed_by: ["ADR-018", "ADR-015"]
parent_uc: ["UC-0253"]
---

# Task 3.6.2: SchemaInterceptor Call Contract

## Goal

`EntropyTracker.record_and_score/2` must only be called after successful schema validation. Messages that fail validation must not update the sliding window. The call is synchronous â€” no `Task.async` or cast dispatch.

## Governing Decisions

- ADR-018
- ADR-015

## Verification UCs

- UC-0253

## Subtasks

| ID | Title | Done When | Status |
|----|-------|-----------|--------|
| 3.6.2.1 | Write test confirming schema-invalid message does not invoke record_and_score by checking window size after invalid then valid message | mix test test/observatory/gateway/schema_interceptor_test.exs | pending |
| 3.6.2.2 | Add synchronous-call comment at record_and_score call site referencing FR-9.9 and ADR-018 | mix compile --warnings-as-errors | pending |
