---
id: "1.2.2.2"
title: "Write tests for nil, empty string, UUID parent_step_id and root?/1"
status: pending
task_id: "1.2.2"
governed_by: ["ADR-014", "ADR-017"]
parent_uc: ["UC-0204"]
---

goal: "Write five tests: nil parent_step_id is valid, empty string becomes nil, UUID string is preserved, root?/1 returns true for nil parent_step_id, root?/1 returns false for UUID"
allowed_files:
  - test/observatory/mesh/decision_log_test.exs
blocked_by: ["1.2.2.1"]
steps:
  - Write test that omitting parent_step_id produces meta.parent_step_id == nil and changeset valid
  - Write test that parent_step_id => "" produces meta.parent_step_id == nil with no error
  - Write test that a valid UUID string is preserved in meta.parent_step_id
  - Write test that root?/1 returns true for a struct with meta.parent_step_id: nil
  - Write test that root?/1 returns false for a struct with a UUID in meta.parent_step_id
done_when: "mix test test/observatory/mesh/decision_log_test.exs"
