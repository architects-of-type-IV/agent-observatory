---
id: "2.1.1.a"
title: "Create schema_interceptor.ex with @moduledoc boundary constraint"
status: pending
task_id: "2.1.1"
governed_by: ["ADR-013", "ADR-015"]
parent_uc: ["UC-0209"]
---

goal: "Create lib/observatory/gateway/schema_interceptor.ex with defmodule Observatory.Gateway.SchemaInterceptor, a @moduledoc stating the ObservatoryWeb boundary constraint and PubSub rule, and only Observatory.Mesh.DecisionLog and Ecto.Changeset as aliases"
allowed_files:
  - lib/observatory/gateway/schema_interceptor.ex
blocked_by: []
steps:
  - Create the directory lib/observatory/gateway/ if it does not exist
  - Create lib/observatory/gateway/schema_interceptor.ex with defmodule Observatory.Gateway.SchemaInterceptor do
  - Add @moduledoc stating ObservatoryWeb boundary, PubSub-only cross-boundary rule, and no raw payload in Logger
  - Add alias Observatory.Mesh.DecisionLog and use/alias Ecto.Changeset â€” no ObservatoryWeb aliases
done_when: "mix compile --warnings-as-errors"
