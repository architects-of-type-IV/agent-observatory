---
id: "1.2.1.2"
title: "Write test for invalid status atom 'timeout' producing inclusion error"
status: pending
task_id: "1.2.1"
governed_by: ["ADR-014"]
parent_uc: ["UC-0203"]
---

goal: "Write a test that calls changeset/2 with action.status set to 'timeout' and asserts valid? == false and the errors include an inclusion error on :status with enum [:success, :failure, :pending, :skipped]"
allowed_files:
  - test/observatory/mesh/decision_log_test.exs
blocked_by: ["1.2.1.1"]
steps:
  - In decision_log_test.exs, add a test with action.status set to "timeout"
  - Assert Ecto.Changeset.valid?(changeset) == false
  - Assert changeset errors include {:status, {"is invalid", [validation: :inclusion, enum: ...]}}
  - Confirm the test passes with mix test
done_when: "mix test test/observatory/mesh/decision_log_test.exs"
